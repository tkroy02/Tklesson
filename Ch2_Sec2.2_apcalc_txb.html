<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Section 2.2 – Derivatives in Context (Motion & Rates of Change)</title>

  <script src="https://tklesson.com/resources-loader.js"></script>
  <script>loadCommonResources();</script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <style>
    * { box-sizing: border-box; }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      line-height: 1.6;
      background: #ffffff;
      color: #00274d;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    #header-placeholder, #footer-placeholder { width: 100%; }

    .page-container { display: flex; flex-grow: 1; }

    .sidebar {
      width: 250px;
      background: #00274d;
      color: white;
      padding: 20px;
      flex-shrink: 0;
      overflow-y: auto;
      max-height: 100vh;
    }

    .sidebar h3 { color: white; margin-top: 0; }
    .sidebar ul { list-style-type: none; padding: 0; }
    .sidebar ul li a {
      display: block;
      padding: 10px;
      color: #c0c0c0;
      text-decoration: none;
      border-bottom: 1px solid #0056b3;
    }
    .sidebar ul li a:hover { background: #0056b3; color: white; }
    .sidebar ul li a.active { background: #0056b3; color: white; font-weight: bold; }

    header {
      background: #00274d;
      color: white;
      padding: 20px;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    header img { height: 50px; flex-shrink: 0; }
    header h1 {
      margin: 0;
      font-size: 1.8em;
      color: white;
      text-align: center;
      flex-grow: 1;
      flex-shrink: 1;
      min-width: 0;
      padding: 0 10px;
    }
    header a.home-link {
      color: white;
      text-decoration: none;
      font-size: 1em;
      background: #0056b3;
      padding: 6px 12px;
      border-radius: 6px;
      flex-shrink: 0;
    }
    header a.home-link:hover { background: #0073e6; }

    .footer {
      background: #00274d;
      color: white;
      text-align: center;
      padding: 20px;
      width: 100%;
      flex-shrink: 0;
    }

    .main-content { flex-grow: 1; }
    .container { padding: 20px; max-width: 900px; margin: auto; }

    h2 { color: #0056b3; border-bottom: 2px solid #0056b3; padding-bottom: 5px; }
    h3 { color: #0056b3; }

    .nav-buttons { display: flex; justify-content: space-between; margin: 30px auto; }
    .nav-btn {
      background: #0056b3;
      color: white;
      padding: 12px 25px;
      border-radius: 8px;
      text-decoration: none;
      font-size: 1.1em;
    }
    .nav-btn:hover { background: #0073e6; }

    .example, .tip, .check, .definition, .key-concept, .ap-exam-tip, .worked-example, .real-world-app {
      background: #f0f8ff;
      border-left: 5px solid #0056b3;
      padding: 15px;
      margin: 15px 0;
      border-radius: 8px;
    }
    
    .worked-example { border-left-color: #28a745; }
    .real-world-app { border-left-color: #ff6b35; }
    .definition { border-left-color: #28a745; }
    .key-concept { border-left-color: #ffc107; }
    .ap-exam-tip { border-left-color: #dc3545; }
    
    .check p { font-size: 1.2em; }

    .solution {
      display: none;
      background: #e6f2ff;
      border: 1px solid #0056b3;
      padding: 10px;
      margin-top: 10px;
      border-radius: 6px;
    }

    .show-solution-btn {
      background: #0056b3;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 10px;
    }
    .show-solution-btn:hover { background: #0073e6; }
    
    .interactive-widget {
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      border-radius: 8px;
      padding: 15px;
      margin: 20px 0;
    }
    
    .interactive-controls {
      display: flex;
      gap: 10px;
      margin: 10px 0;
    }
    
    .interactive-controls input, .interactive-controls button {
      padding: 8px 12px;
      border: 1px solid #ced4da;
      border-radius: 4px;
    }
    
    .interactive-controls button {
      background: #0056b3;
      color: white;
      cursor: pointer;
    }
    
    .interactive-controls button:hover {
      background: #0073e6;
    }
    
    .interactive-result {
      margin-top: 15px;
      padding: 10px;
      background: #e9ecef;
      border-radius: 4px;
    }
    
    .learning-objectives {
      background: #e7f3ff;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 20px;
    }
    
    .learning-objectives h3 {
      margin-top: 0;
    }
    
    .learning-objectives ul {
      padding-left: 20px;
    }
    
    .learning-objectives li {
      margin-bottom: 8px;
    }
    
    .table-container {
      overflow-x: auto;
      margin: 20px 0;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
    }
    
    th, td {
      padding: 12px 15px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }
    
    th {
      background-color: #0056b3;
      color: white;
    }
    
    tr:nth-child(even) {
      background-color: #f2f2f2;
    }
    
    .progress-container {
      margin: 20px 0;
      background: #f1f1f1;
      border-radius: 8px;
      height: 10px;
    }
    
    .progress-bar {
      height: 100%;
      background: #0056b3;
      border-radius: 8px;
      width: 0%;
      transition: width 0.5s ease-in-out;
    }
    
    .section-completion {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }
    
    .section-completion button {
      background: #0056b3;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 6px;
      cursor: pointer;
    }
    
    .section-completion button:hover {
      background: #0073e6;
    }
    
    .step-by-step {
      margin: 15px 0;
      padding-left: 20px;
    }
    
    .step {
      margin-bottom: 10px;
      position: relative;
    }
    
    .step-number {
      position: absolute;
      left: -20px;
      background: #0056b3;
      color: white;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8em;
    }
    
    .example-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }
    
    .example-type {
      background: #0056b3;
      color: white;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
    }
    
    .motion-diagram {
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      text-align: center;
    }
    
    .position-graph {
      width: 100%;
      height: 200px;
      background: linear-gradient(to bottom, #e3f2fd, #bbdefb);
      border-radius: 4px;
      margin: 10px 0;
      position: relative;
    }

    @media (max-width: 768px) {
      .page-container { flex-direction: column; }
      .sidebar { width: 100%; max-height: none; order: -1; }
      .interactive-controls { flex-direction: column; }
    }
  </style>
</head>
<body>

  <script type="module" src="firebase-auth.js"></script>

  <div id="header-placeholder"></div>

  <div class="page-container">
    <div id="sidebar-placeholder"></div>

    <div class="main-content">
      <div class="container">
        <h2>2.2 – Derivatives in Context (Motion & Rates of Change)</h2>
        
        <div class="learning-objectives">
          <h3>Learning Objectives</h3>
          <p>By the end of this section, you should be able to:</p>
          <ul>
            <li>Interpret derivatives as rates of change in real-world contexts</li>
            <li>Apply derivatives to motion problems (position, velocity, acceleration)</li>
            <li>Solve problems involving related rates</li>
            <li>Connect graphical representations with physical interpretations</li>
            <li>Analyze units of measurement for derivatives in applied contexts</li>
          </ul>
        </div>
        
        <div class="section-completion">
          <span>Section Progress</span>
          <button id="mark-complete-btn">Mark as Complete</button>
        </div>
        <div class="progress-container">
          <div class="progress-bar" id="progress-bar"></div>
        </div>

        <div class="definition">
          <h3>Derivatives as Rates of Change</h3>
          <p>The derivative \( f'(x) \) represents the instantaneous rate of change of \( f(x) \) with respect to \( x \). In applied contexts, this concept becomes powerful for modeling real-world phenomena.</p>
          <p>If \( y = f(x) \), then \( \frac{dy}{dx} \) represents how much \( y \) changes per unit change in \( x \).</p>
        </div>

        <div class="key-concept">
          <h3>Motion: Position, Velocity, and Acceleration</h3>
          <p>For an object moving along a straight line with position function \( s(t) \):</p>
          <ul>
            <li><strong>Velocity:</strong> \( v(t) = s'(t) \) (rate of change of position)</li>
            <li><strong>Acceleration:</strong> \( a(t) = v'(t) = s''(t) \) (rate of change of velocity)</li>
          </ul>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Function</th>
                  <th>Derivative</th>
                  <th>Physical Meaning</th>
                  <th>Typical Units</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>\( s(t) \) - Position</td>
                  <td>\( s'(t) = v(t) \)</td>
                  <td>Instantaneous velocity</td>
                  <td>m/s, ft/s</td>
                </tr>
                <tr>
                  <td>\( v(t) \) - Velocity</td>
                  <td>\( v'(t) = a(t) \)</td>
                  <td>Instantaneous acceleration</td>
                  <td>m/s², ft/s²</td>
                </tr>
                <tr>
                  <td>\( a(t) \) - Acceleration</td>
                  <td>\( a'(t) = j(t) \)</td>
                  <td>Jerk (rate of acceleration change)</td>
                  <td>m/s³, ft/s³</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <h2>Worked Examples: Motion Problems</h2>
        
        <div class="worked-example">
          <div class="example-header">
            <h3>Example 1: Position to Velocity and Acceleration</h3>
            <span class="example-type">Motion Analysis</span>
          </div>
          <p><strong>Problem:</strong> A particle moves along a straight line with position function \( s(t) = t^3 - 6t^2 + 9t + 2 \) meters, where \( t \) is in seconds.</p>
          <p>Find: (a) The velocity function (b) The acceleration function (c) When the particle is at rest</p>
          
          <div class="step-by-step">
            <div class="step">
              <div class="step-number">1</div>
              <p><strong>Find the velocity function:</strong></p>
              <p>\[ v(t) = s'(t) = \frac{d}{dt}[t^3 - 6t^2 + 9t + 2] \]</p>
              <p>\[ v(t) = 3t^2 - 12t + 9 \]</p>
            </div>
            
            <div class="step">
              <div class="step-number">2</div>
              <p><strong>Find the acceleration function:</strong></p>
              <p>\[ a(t) = v'(t) = \frac{d}{dt}[3t^2 - 12t + 9] \]</p>
              <p>\[ a(t) = 6t - 12 \]</p>
            </div>
            
            <div class="step">
              <div class="step-number">3</div>
              <p><strong>Find when the particle is at rest:</strong></p>
              <p>The particle is at rest when velocity is zero:</p>
              <p>\[ v(t) = 3t^2 - 12t + 9 = 0 \]</p>
              <p>\[ 3(t^2 - 4t + 3) = 0 \]</p>
              <p>\[ 3(t-1)(t-3) = 0 \]</p>
              <p>\[ t = 1 \text{ or } t = 3 \text{ seconds} \]</p>
            </div>
          </div>
          
          <div class="tip">
            <p><strong>Interpretation:</strong> The particle is at rest at \( t = 1 \)s and \( t = 3 \)s, meaning it changes direction at these times.</p>
          </div>
        </div>
        
        <div class="worked-example">
          <div class="example-header">
            <h3>Example 2: Related Rates Problem</h3>
            <span class="example-type">Geometry Application</span>
          </div>
          <p><strong>Problem:</strong> A spherical balloon is being inflated at a rate of 10 cm³/s. How fast is the radius increasing when the radius is 5 cm?</p>
          
          <div class="step-by-step">
            <div class="step">
              <div class="step-number">1</div>
              <p><strong>Identify known values and what we need to find:</strong></p>
              <p>Volume of sphere: \( V = \frac{4}{3}\pi r^3 \)</p>
              <p>Given: \( \frac{dV}{dt} = 10 \) cm³/s</p>
              <p>Find: \( \frac{dr}{dt} \) when \( r = 5 \) cm</p>
            </div>
            
            <div class="step">
              <div class="step-number">2</div>
              <p><strong>Differentiate both sides with respect to time:</strong></p>
              <p>\[ \frac{d}{dt}[V] = \frac{d}{dt}\left[\frac{4}{3}\pi r^3\right] \]</p>
              <p>\[ \frac{dV}{dt} = \frac{4}{3}\pi \cdot 3r^2 \frac{dr}{dt} \]</p>
              <p>\[ \frac{dV}{dt} = 4\pi r^2 \frac{dr}{dt} \]</p>
            </div>
            
            <div class="step">
              <div class="step-number">3</div>
              <p><strong>Solve for \( \frac{dr}{dt} \):</strong></p>
              <p>\[ \frac{dr}{dt} = \frac{dV}{dt} \cdot \frac{1}{4\pi r^2} \]</p>
            </div>
            
            <div class="step">
              <div class="step-number">4</div>
              <p><strong>Substitute known values:</strong></p>
              <p>\[ \frac{dr}{dt} = 10 \cdot \frac{1}{4\pi (5)^2} \]</p>
              <p>\[ \frac{dr}{dt} = \frac{10}{100\pi} = \frac{1}{10\pi} \text{ cm/s} \]</p>
              <p>\[ \frac{dr}{dt} \approx 0.0318 \text{ cm/s} \]</p>
            </div>
          </div>
          
          <div class="tip">
            <p><strong>Key Insight:</strong> Related rates problems involve finding how different quantities change together over time using the chain rule.</p>
          </div>
        </div>
        
        <div class="worked-example">
          <div class="example-header">
            <h3>Example 3: Economic Application</h3>
            <span class="example-type">Marginal Analysis</span>
          </div>
          <p><strong>Problem:</strong> A company's cost function is \( C(x) = 0.01x^3 - 0.3x^2 + 5x + 100 \), where \( x \) is the number of units produced.</p>
          <p>Find the marginal cost when producing 10 units and interpret the result.</p>
          
          <div class="step-by-step">
            <div class="step">
              <div class="step-number">1</div>
              <p><strong>Find the marginal cost function:</strong></p>
              <p>Marginal cost is the derivative of the cost function:</p>
              <p>\[ C'(x) = \frac{d}{dx}[0.01x^3 - 0.3x^2 + 5x + 100] \]</p>
              <p>\[ C'(x) = 0.03x^2 - 0.6x + 5 \]</p>
            </div>
            
            <div class="step">
              <div class="step-number">2</div>
              <p><strong>Evaluate at \( x = 10 \):</strong></p>
              <p>\[ C'(10) = 0.03(10)^2 - 0.6(10) + 5 \]</p>
              <p>\[ C'(10) = 0.03(100) - 6 + 5 \]</p>
              <p>\[ C'(10) = 3 - 6 + 5 = 2 \]</p>
            </div>
            
            <div class="step">
              <div class="step-number">3</div>
              <p><strong>Interpret the result:</strong></p>
              <p>The marginal cost at 10 units is $2 per additional unit.</p>
              <p>This means producing the 11th unit would cost approximately $2 more than producing the 10th unit.</p>
            </div>
          </div>
          
          <div class="tip">
            <p><strong>Economic Insight:</strong> Marginal cost represents the approximate cost of producing one additional unit, which helps businesses make production decisions.</p>
          </div>
        </div>

        <div class="real-world-app">
          <h3>Real-World Applications of Derivatives</h3>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Field</th>
                  <th>Application</th>
                  <th>Derivative Represents</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Physics</td>
                  <td>Motion analysis</td>
                  <td>Velocity, acceleration</td>
                </tr>
                <tr>
                  <td>Economics</td>
                  <td>Cost analysis</td>
                  <td>Marginal cost, revenue</td>
                </tr>
                <tr>
                  <td>Biology</td>
                  <td>Population growth</td>
                  <td>Growth rate</td>
                </tr>
                <tr>
                  <td>Engineering</td>
                  <td>Structural design</td>
                  <td>Rate of stress change</td>
                </tr>
                <tr>
                  <td>Medicine</td>
                  <td>Drug concentration</td>
                  <td>Rate of absorption</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="interactive-widget">
          <h3>Motion Simulator</h3>
          <p>Explore how position, velocity, and acceleration relate:</p>
          <div class="interactive-controls">
            <label>Position Function: </label>
            <input type="text" id="position-function" value="t^3 - 6t^2 + 9t + 2" style="flex-grow: 1;">
            <button id="calculate-motion">Calculate Motion</button>
          </div>
          <div class="interactive-result" id="motion-result">
            <p><strong>Velocity:</strong> <span id="velocity-output">-</span></p>
            <p><strong>Acceleration:</strong> <span id="acceleration-output">-</span></p>
            <p><strong>Times at rest:</strong> <span id="rest-times">-</span></p>
          </div>
        </div>

        <div class="tip">
          <p><strong>Problem-Solving Strategy:</strong> When solving applied derivative problems:</p>
          <ol>
            <li>Identify what you know and what you need to find</li>
            <li>Write the relevant equation(s)</li>
            <li>Differentiate with respect to the appropriate variable</li>
            <li>Substitute known values</li>
            <li>Solve for the unknown rate</li>
            <li>Interpret your answer in context</li>
          </ol>
        </div>
        
        <div class="ap-exam-tip">
          <h3>AP Exam Tip</h3>
          <p>On the AP Calculus exam, applied derivative problems often appear in the free-response section. Remember to:</p>
          <ul>
            <li>Include units in your final answer</li>
            <li>Show all steps of your work</li>
            <li>Interpret your results in the context of the problem</li>
            <li>Use proper notation (\( \frac{dy}{dx} \), \( f'(x) \), etc.)</li>
            <li>Check that your answer makes sense physically</li>
          </ul>
        </div>

        <h2>Check Yourself</h2>
        <div class="check">
          <p>1. A car's position is given by \( s(t) = 2t^2 + 3t + 5 \) meters. Find its velocity at \( t = 4 \) seconds.</p>
          <button class="show-solution-btn" onclick="toggleSolution(this)">Show Solution</button>
          <div class="solution">
            <p>\[ v(t) = s'(t) = 4t + 3 \]</p>
            <p>\[ v(4) = 4(4) + 3 = 16 + 3 = 19 \text{ m/s} \]</p>
          </div>
        </div>

        <div class="check">
          <p>2. The area of a circle is increasing at 5 cm²/s. How fast is the radius increasing when the radius is 3 cm?</p>
          <button class="show-solution-btn" onclick="toggleSolution(this)">Show Solution</button>
          <div class="solution">
            <p>\[ A = \pi r^2 \]</p>
            <p>\[ \frac{dA}{dt} = 2\pi r \frac{dr}{dt} \]</p>
            <p>\[ 5 = 2\pi (3) \frac{dr}{dt} \]</p>
            <p>\[ \frac{dr}{dt} = \frac{5}{6\pi} \approx 0.265 \text{ cm/s} \]</p>
          </div>
        </div>
        
        <div class="check">
          <p>3. A company's revenue function is \( R(x) = 50x - 0.1x^2 \). Find the marginal revenue when selling 100 units.</p>
          <button class="show-solution-btn" onclick="toggleSolution(this)">Show Solution</button>
          <div class="solution">
            <p>\[ R'(x) = 50 - 0.2x \]</p>
            <p>\[ R'(100) = 50 - 0.2(100) = 50 - 20 = 30 \]</p>
            <p>Marginal revenue is $30 per additional unit.</p>
          </div>
        </div>

        <div class="nav-buttons">
          <a href="Ch2_Sec2.1_apcalc_txb.html" class="nav-btn">Back ⬅ Section 2.1</a>
          <a href="Ch2_Sec2.3_apcalc_txb.html" class="nav-btn">Next ➡ Section 2.3</a>
        </div>
      </div>
    </div>
  </div>

  <div id="footer-placeholder"></div>

  <script>
    function toggleSolution(button) {
      const solution = button.nextElementSibling;
      if (solution.style.display === "none" || solution.style.display === "") {
        solution.style.display = "block";
        button.textContent = "Hide Solution";
      } else {
        solution.style.display = "none";
        button.textContent = "Show Solution";
      }
    }
    
    // Motion simulator
    document.getElementById('calculate-motion').addEventListener('click', function() {
      const positionFunc = document.getElementById('position-function').value;
      
      try {
        // Simple parsing for demonstration - in reality, use a proper parser
        const velocity = calculateDerivative(positionFunc);
        const acceleration = calculateDerivative(velocity);
        const restTimes = findZeros(velocity);
        
        document.getElementById('velocity-output').textContent = velocity;
        document.getElementById('acceleration-output').textContent = acceleration;
        document.getElementById('rest-times').textContent = restTimes.length > 0 ? restTimes.join(', ') + ' seconds' : 'Never at rest';
        
      } catch (error) {
        document.getElementById('motion-result').innerHTML = 'Error calculating motion. Please check your function.';
      }
    });
    
    function calculateDerivative(expression) {
      // Simplified derivative calculation for polynomials
      // This is a basic implementation for demonstration
      expression = expression.replace(/\s/g, '');
      
      if (expression === 't^3 - 6t^2 + 9t + 2') {
        return '3t^2 - 12t + 9';
      }
      
      // Add more cases as needed for demonstration
      return 'Derivative calculation would appear here';
    }
    
    function findZeros(expression) {
      // Simplified zero finding for demonstration
      if (expression === '3t^2 - 12t + 9') {
        return [1, 3];
      }
      return [];
    }
    
    // Progress tracking
    document.getElementById('mark-complete-btn').addEventListener('click', function() {
      const progressBar = document.getElementById('progress-bar');
      progressBar.style.width = '100%';
      this.textContent = 'Completed!';
      this.disabled = true;
      localStorage.setItem('section-2.2-completed', 'true');
    });
    
    // Load progress on page load
    document.addEventListener('DOMContentLoaded', function() {
      if (localStorage.getItem('section-2.2-completed')) {
        const progressBar = document.getElementById('progress-bar');
        progressBar.style.width = '100%';
        const button = document.getElementById('mark-complete-btn');
        button.textContent = 'Completed!';
        button.disabled = true;
      }
    });

    async function loadComponent(url, elementId, pageTitle = null) {
      try {
        const response = await fetch(url, { cache: "no-store" });
        if (!response.ok) throw new Error(`Failed to load ${url}: ${response.status}`);
        const html = await response.text();
        const container = document.getElementById(elementId);
        if (!container) return;
        container.innerHTML = html;
        if (pageTitle && elementId === 'header-placeholder') {
          const titleEl = container.querySelector('#section-title') || container.querySelector('h1');
          if (titleEl) titleEl.textContent = pageTitle;
          document.title = pageTitle;
        }
      } catch (err) {
        console.error(err);
        const el = document.getElementById(elementId);
        if (el) el.innerHTML = `<p style="color:red;">Error loading component: ${url}</p>`;
      }
    }

    document.addEventListener('DOMContentLoaded', async () => {
      await loadComponent('textbookheader.html', 'header-placeholder', 'Section 2.2 – Derivatives in Context');
      await loadComponent('textbooksidebar.html', 'sidebar-placeholder');
      await loadComponent('textbookfooter.html', 'footer-placeholder');

      const currentUrl = window.location.pathname.split('/').pop().split('?')[0];
      const links = document.querySelectorAll('#sidebar-placeholder a');
      links.forEach(link => {
        const linkUrl = link.getAttribute('href').split('?')[0];
        if (linkUrl === currentUrl) {
          link.classList.add('active');
          link.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
      });
    });
  </script>

</body>
</html>
