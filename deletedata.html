<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tklesson - Request to Delete Data</title>

<!-- Preload critical resources -->
<link rel="preconnect" href="https://www.googletagmanager.com">
<link rel="canonical" href="https://tklesson.com/">
<link rel="icon" type="image/png" sizes="16x16" href="/Tklesson1-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/Tklesson1-32x32.png">
<link rel="icon" type="image/png" sizes="48x48" href="/Tklesson1-48x48.png">
<link rel="icon" type="image/png" sizes="64x64" href="/Tklesson1-64x64.png">
<link rel="icon" type="image/png" sizes="192x192" href="/Tklesson1-192x192.png">
<link rel="icon" type="image/png" sizes="512x512" href="/Tklesson1-512x512.png">
<link rel="apple-touch-icon" href="/Tklesson1-192x192.png">
<meta name="theme-color" content="#ffffff">

<!-- Inline critical CSS -->
<style>
  :root {
    --primary: #0b3d91;
    --primary-dark: #003366;
    --accent: #164787;
    --background: linear-gradient(135deg, #e0f0ff, #ffffff);
    --card-bg: #ffffff;
    --note-bg: #dbe9ff;
    --text: #0b3d91;
    --shadow: 0 15px 30px rgba(0,0,0,0.1);
    --shadow-hover: 0 20px 40px rgba(0,0,0,0.15);
  }
  
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }
  
  body {
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    background: var(--background);
    color: var(--text);
    line-height: 1.6;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
  
  h1, h2 {
    color: var(--primary);
    margin-bottom: 0.75rem;
  }
  
  h1 {
    text-align: center;
    font-size: clamp(1.8rem, 5vw, 2.5rem);
    margin-bottom: 2rem;
  }
  
  h2 {
    margin-top: 2rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: clamp(1.25rem, 4vw, 1.5rem);
  }
  
  p, li {
    margin-bottom: 0.75rem;
    font-size: clamp(1rem, 2.5vw, 1.05rem);
  }
  
  ul {
    margin-left: 1.25rem;
    margin-bottom: 1rem;
  }
  
  a {
    color: var(--primary);
    text-decoration: none;
    transition: color 0.2s ease;
  }
  
  a:hover, a:focus {
    color: var(--primary-dark);
    text-decoration: underline;
  }
  
  .container {
    width: min(800px, 90%);
    margin: 2rem auto;
    padding: 0 1rem;
    flex: 1;
  }
  
  .cocoon {
    background-color: var(--card-bg);
    border-radius: 1.25rem;
    box-shadow: var(--shadow);
    padding: clamp(1.25rem, 4vw, 1.875rem);
    margin-bottom: 2rem;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  
  .cocoon:hover {
    transform: translateY(-0.3125rem);
    box-shadow: var(--shadow-hover);
  }
  
  .note {
    background-color: var(--note-bg);
    border-left: 0.375rem solid var(--primary);
    border-radius: 0.9375rem;
    padding: clamp(1rem, 3vw, 1.25rem);
    margin: 1.5rem 0;
    box-shadow: 0 0.5rem 1.25rem rgba(0,0,0,0.1);
  }
  
  .btn-primary {
    display: inline-block;
    background-color: var(--primary);
    color: white;
    font-weight: bold;
    padding: 1.25rem 2.5rem;
    border-radius: 1.25rem;
    font-size: clamp(1.1rem, 3vw, 1.3rem);
    text-decoration: none;
    box-shadow: 0 0.625rem 1.5625rem rgba(0,0,0,0.15);
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
  }
  
  .btn-primary:hover, .btn-primary:focus {
    background-color: var(--accent);
    transform: translateY(-0.3125rem);
    box-shadow: 0 0.9375rem 2.1875rem rgba(0,0,0,0.2);
  }
  
  .btn-center {
    text-align: center;
    margin: 2rem 0;
  }
  
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
  
  /* Loading states for header/footer */
  #header, #footer {
    min-height: 60px;
    position: relative;
  }
  
  #header::before, #footer::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 40px;
    height: 40px;
    border: 3px solid #f3f3f3;
    border-top: 3px solid var(--primary);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    display: none;
  }
  
  #header.loading::before, #footer.loading::before {
    display: block;
  }
  
  @keyframes spin {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    100% { transform: translate(-50%, -50%) rotate(360deg); }
  }
</style>
</head>
<body>

<!-- Header placeholder with loading state -->
<div id="header" class="loading" aria-live="polite"></div>

<main class="container">
    <h1 id="hero">Request to Delete Data</h1>

    <p>At Tklesson, we respect your privacy. If you've interacted with our app or booked a session through Calendly, you may request deletion of your personal data.</p>

    <section class="cocoon" aria-labelledby="data-deletion">
        <h2 id="data-deletion">üîê What data can be deleted:</h2>
        <ul>
            <li>Name</li>
            <li>Email address</li>
            <li>Session booking details</li>
        </ul>

        <div class="note" role="note">
            <strong>Note:</strong> Data stored via third-party services like Calendly may be subject to their own retention policies. We will work to remove all accessible user data from our end.
        </div>
    </section>

    <section class="cocoon" aria-labelledby="request-process">
        <h2 id="request-process">üìù How to Request Data Deletion:</h2>
        <p>Email us at <a href="mailto:info@tklesson.com">info@tklesson.com</a> with the subject line: <strong>"Data Deletion Request"</strong>.</p>
        <p>Please include:</p>
        <ul>
            <li>The email address used to book the session</li>
            <li>Your full name (optional)</li>
        </ul>

        <p>We will confirm your identity and complete the deletion within 7 days.</p>
        <p>For any questions, contact us at <a href="mailto:info@tklesson.com">info@tklesson.com</a>.</p>
    </section>

    <div class="btn-center">
        <a href="testing/test.html" class="btn-primary">
            Configuration Room
        </a>
    </div>
</main>

<!-- Footer placeholder with loading state -->
<div id="footer" class="loading" aria-live="polite"></div>

<!-- Deferred JavaScript -->
<script>
// Load header and footer with error handling
function loadComponent(id, url) {
  const element = document.getElementById(id);
  if (!element) return;
  
  fetch(url)
    .then(response => {
      if (!response.ok) throw new Error(`Failed to load ${url}: ${response.status}`);
      return response.text();
    })
    .then(data => {
      element.innerHTML = data;
      element.classList.remove('loading');
      initializeComponent(id);
    })
    .catch(err => {
      console.error(err);
      element.innerHTML = `<p class="error">Failed to load ${id}. Please refresh the page.</p>`;
      element.classList.remove('loading');
    });
}

function initializeComponent(id) {
  if (id === 'header') {
    const header = document.getElementById('header');
    const navMenu = header.querySelector('#navMenu');
    const hamburger = header.querySelector('.hamburger');

    if (hamburger && navMenu) {
      hamburger.setAttribute('aria-expanded', 'false');
      hamburger.addEventListener('click', () => {
        const isOpen = navMenu.classList.toggle('open');
        hamburger.setAttribute('aria-expanded', isOpen);
      });
    }

    header.querySelectorAll('.dropdown').forEach(dropdown => {
      const btn = dropdown.querySelector('.dropbtn');
      if (!btn) return;
      
      btn.setAttribute('aria-expanded', 'false');
      btn.addEventListener('click', (e) => {
        if (window.innerWidth <= 768) {
          e.preventDefault();
          const nowActive = dropdown.classList.toggle('active');
          btn.setAttribute('aria-expanded', nowActive);
        }
      });
    });

    header.querySelectorAll('#navMenu a').forEach(link => {
      link.addEventListener('click', () => {
        if (window.innerWidth <= 768 && navMenu && navMenu.classList.contains('open')) {
          navMenu.classList.remove('open');
          if (hamburger) hamburger.setAttribute('aria-expanded', 'false');
        }
      });
    });

    // Responsive behavior
    let resizeTimer;
    window.addEventListener('resize', () => {
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(() => {
        if (window.innerWidth > 768 && navMenu && navMenu.classList.contains('open')) {
          navMenu.classList.remove('open');
          if (hamburger) hamburger.setAttribute('aria-expanded', 'false');
        }
      }, 250);
    });
  }
}

// Load components after DOM is ready
document.addEventListener('DOMContentLoaded', () => {
  // Load header and footer
  loadComponent('header', 'header.html');
  loadComponent('footer', 'footer.html');
  
  // Load Google Analytics after a delay to not block rendering
  setTimeout(() => {
    if (typeof gtag !== 'undefined') return;
    
    const script = document.createElement('script');
    script.async = true;
    script.src = 'https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX';
    document.head.appendChild(script);
    
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-XXXXXXXXXX');
  }, 3000);
});

// Service Worker registration for caching
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/sw.js').catch(err => {
      console.log('ServiceWorker registration failed: ', err);
    });
  });
}
</script>

</body>
</html>
