<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>High School Economics PQ1</title>
<style>
    body { font-family: Arial, sans-serif; background: #f0f8ff; margin:0; padding:0; }
    header { background: #01579b; color: white; padding: 15px; text-align: center; }
    header img { max-height: 60px; vertical-align: middle; margin-right: 10px; }
    h1 { display: inline; font-size: 2em; }
    .quiz-container { max-width: 900px; margin: 30px auto; padding: 25px; background: white; border-radius: 12px; box-shadow: 0 0 15px #555; }
    .question { margin-bottom: 20px; padding: 10px; border-radius: 8px; background: #e1f5fe; }
    .question p { font-weight: bold; }
    .options label { display: block; margin-bottom: 5px; }
    input[type="text"] { width: 100%; padding: 6px; margin-top: 5px; border-radius: 4px; border: 1px solid #ccc; }
    button { background-color: #0288d1; color: white; padding: 10px 25px; border: none; cursor: pointer; font-size: 1em; border-radius: 5px; margin-top: 10px; margin-right: 10px; }
    button:hover { background-color: #01579b; }
    .correct { background-color: #c8e6c9; }
    .wrong { background-color: #ffcdd2; }
    #score { font-size: 1.3em; font-weight: bold; margin-top: 15px; }
</style>
</head>
<body>

<header>
    <img src="Tklesson1.png" alt="Tklesson Logo">
    <h1>High School Economics PQ1</h1>
</header>

<div class="quiz-container" id="quiz-container"></div>

<button onclick="checkAnswers()">Submit</button>
<button onclick="restartQuiz()">Restart Quiz</button>
<div id="score"></div>

<script>
const questions = [
    {type:'fill', q:"The minimum level of profit needed to keep a firm in operation is called ________.", answer:["normal profit"]},
    {type:'mcq', q:"When aggregate demand is greater than aggregate supply, this is _________", options:["Deficit","Inflationary","Recessionary","Expansionary"], answer:"Inflationary"},
    {type:'mcq', q:"Which of the following is a normative statement?", options:["The inflation rate in Singapore is 5%, which is considered too high","China’s economy grew by 7.4%, which was higher than analysts were predicting","In March 2014 Japan’s trade deficit quadrupled as its export growth slowed down and energy import prices increased.","Unemployment in Brazil is at a record low"], answer:"The inflation rate in Singapore is 5%, which is considered too high"},
    {type:'fill', q:"Consumer satisfaction measured as the difference between what a consumer is willing to pay and what they actually pay is called ________.", answer:["consumer surplus"]},
    {type:'fill', q:"A good for which higher price leads to higher demand is called a ________ good.", answer:["giffen"]},
    {type:'fill', q:"Payments made by the government to encourage production or consumption are called ________.", answer:["subsidies"]},
    {type:'mcq', q:"When there are differentiated products sold in a market of many sellers and buyers, this is __________", options:["Monopoly","Monopolistic competition","Perfect competition","Oligopoly"], answer:"Monopolistic competition"},
    {type:'fill', q:"A good whose demand increases as consumer income decreases is called an ________ good.", answer:["inferior"]},
    {type:'fill', q:"The maximum legal price set by the government below equilibrium is called a ________.", answer:["price ceiling"]},
    {type:'mcq', q:"Goods of monopolies tend to be ___________", options:["Price elastic","Zero","Unitary elastic","Price inelastic"], answer:"Price inelastic"},
    {type:'mcq', q:"Which of the following is not an example of the factor of production capital?", options:["A bank loan","A delivery van","Factory building","Machinery"], answer:"A bank loan"},
    {type:'mcq', q:"If total cost is $500 when producing 5 units, $580 when producing 6 units, and $660 when producing 7 units, what is the marginal cost of the 7th unit?", options:["$60","$80","$70","$100"], answer:"$80"},
    {type:'mcq', q:"If a firm produces 10 units at a total cost of $500 and 11 units at $550, what is the marginal cost of the 11th unit?", options:["$45","$60","$55","$50"], answer:"$50"},
    {type:'fill', q:"The time between the implementation of a fiscal or monetary policy and when it takes effect is known as ________", answer:["lag"]},
    {type:'mcq', q:"A country facing high unemployment implements an expansionary fiscal policy, but inflation rises instead of employment. The likely reason is:", options:["Government spent too little","Economy is at full employment","Demand is too low","Taxes were cut"], answer:"Economy is at full employment"},
    {type:'fill', q:"The principle stating that as more of a variable input is added to a fixed input, marginal output eventually declines is called the law of ________", answer:["diminishing","diminishing returns"]},
    {type:'mcq', q:"One of the consequences of oil running out, ceteris paribus, would be that:", options:["The relative price of alternatives such as hydrocarbons will rise in the long run","The price of oil will fall in the future","Demand for alternatives such as hydrocarbons will fall","There would be a greater incentive to search for oil in more marginal oil fields"], answer:"The relative price of alternatives such as hydrocarbons will rise in the long run"},
    {type:'mcq', q:"What is the opportunity cost of a transfer payment such as unemployment benefit?", options:["The resources that are being diverted into non-productive uses","The loss of potential output and taxation","The goods and services that could be produced with the money","There is no opportunity cost involved"], answer:"The goods and services that could be produced with the money"},
    {type:'mcq', q:"The point where average cost is less than marginal cost indicates", options:["Average point is at its minimum point","Economies of scale","Average cost is falling","Average cost is rising"], answer:"Average cost is rising"},
    {type:'fill', q:"If consumption is $300 billion, investment is $100 billion, government spending is $80 billion, exports are $70 billion, and imports are $50 billion, then the GDP is ________ billion.", answer:["500"]}
];

// Shuffle function
function shuffleArray(arr){ return arr.sort(() => Math.random() - 0.5); }

// Shuffle questions and options on initial load
shuffleArray(questions);
questions.forEach(q => { if(q.type==='mcq'){ shuffleArray(q.options); } });

const container = document.getElementById('quiz-container');

function renderQuiz(){
    container.innerHTML = '';
    questions.forEach((q, idx)=>{
        const div = document.createElement('div');
        div.classList.add('question');
        div.id = `qdiv${idx}`;
        div.innerHTML = `<p>${idx+1}. ${q.q}</p>`;
        if(q.type==='mcq'){
            div.innerHTML += '<div class="options">' + q.options.map(opt => 
                `<label><input type="radio" name="q${idx}" value="${opt}"> ${opt}</label>`).join('') + '</div>';
        } else {
            div.innerHTML += `<input type="text" id="q${idx}" placeholder="Type your answer here">`;
        }
        container.appendChild(div);
    });
    document.getElementById('score').innerText = '';
}

renderQuiz();

function checkAnswers(){
    let score=0;
    questions.forEach((q, idx)=>{
        const div = document.getElementById(`qdiv${idx}`);
        div.classList.remove('correct','wrong');
        if(q.type==='mcq'){
            const selected = document.querySelector(`input[name="q${idx}"]:checked`);
            if(selected){
                if(selected.value === q.answer){
                    div.classList.add('correct'); score++;
                } else {
                    div.classList.add('wrong');
                    div.innerHTML += `<p style="color:#01579b;">Correct answer: ${q.answer}</p>`;
                }
            } else {
                div.classList.add('wrong');
                div.innerHTML += `<p style="color:#01579b;">Correct answer: ${q.answer}</p>`;
            }
        } else {
            const userAns = document.getElementById(`q${idx}`).value.trim().toLowerCase();
            let correct = false;
            if(Array.isArray(q.answer)){
                correct = q.answer.some(ans => userAns === ans.toLowerCase());
            } else { correct = userAns === q.answer.toLowerCase(); }
            if(correct){
                div.classList.add('correct'); score++;
            } else {
                div.classList.add('wrong');
                div.innerHTML += `<p style="color:#01579b;">Correct answer: ${Array.isArray(q.answer)?q.answer[0]:q.answer}</p>`;
            }
        }
    });
    document.getElementById('score').innerText = `Your score: ${score} / ${questions.length}`;
}

function restartQuiz(){
    shuffleArray(questions);
    questions.forEach(q=>{ if(q.type==='mcq'){ shuffleArray(q.options); }} );
    renderQuiz();
}
</script>

</body>
</html>
