<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Section 3.5: Conservation of Energy</title>

<script src="https://tklesson.com/resources-loader.js"></script>
<script>loadCommonResources();</script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<link rel="stylesheet" href="style.css">

<style>
body { margin:0; padding:0; display:flex; flex-direction:column; min-height:100vh; background:#f0f4f8; }
.main-layout { display:flex; flex-grow:1; }
#sidebar-placeholder { width:250px; flex-shrink:0; overflow-y:auto; }
main { flex-grow:1; padding:20px; }

.content-box { background:#fff; border:1px solid #99c2ff; border-radius:8px; padding:20px; margin-bottom:25px; box-shadow:0 4px 10px rgba(0,0,0,0.12); }
.content-box h2 { color:#003366; border-bottom:2px solid #0056b3; padding-bottom:10px; margin-top:0; margin-bottom:20px; }

.highlight-box { background:#e6f2ff; border-left:5px solid #0056b3; padding:15px; margin:20px 0; border-radius:5px; font-size:15px; color:#003366; }

.example, .practice-box { background:#f0f8ff; border-left:5px solid #0056b3; padding:15px; margin:15px 0; border-radius:8px; }

.solution { display:none; background:#e6f2ff; border:1px solid #0056b3; padding:10px; margin-top:10px; border-radius:6px; }

.show-solution-btn { background:#0056b3; color:white; border:none; padding:8px 15px; border-radius:6px; cursor:pointer; margin-top:10px; }
.show-solution-btn:hover { background:#0073e6; }

.nav-buttons { display:flex; justify-content:space-between; margin-top:25px; }
.nav-btn { background:#0056b3; color:white; padding:12px 25px; border-radius:8px; text-decoration:none; font-size:1.1em; }
.nav-btn:hover { background:#0073e6; }
</style>
</head>
<body>

<script type="module" src="firebase-auth.js"></script>

<div id="header-placeholder"></div>

<div class="main-layout">
  <div id="sidebar-placeholder"></div>
  <main>
    <div class="content-box">
      <h2>Section 3.5: Conservation of Energy</h2>
      <p>The principle of conservation of energy states that the total mechanical energy of an isolated system remains constant if only conservative forces act. Energy can be transformed between kinetic and potential forms without loss.</p>
    </div>

    <!-- Definition -->
    <div class="highlight-box">
      <strong>Mechanical Energy:</strong>
      <p>\( E_\text{mech} = K + U \)</p>
      <ul>
        <li>\( K = \frac{1}{2}mv^2 \): Kinetic Energy</li>
        <li>\( U = mgh \): Gravitational Potential Energy</li>
      </ul>
    </div>

    <div class="highlight-box">
      <strong>Conservation of Energy:</strong>
      <p>\( E_\text{mech,initial} = E_\text{mech,final} \)</p>
      <p>Or equivalently, \( K_i + U_i = K_f + U_f \)</p>
    </div>

    <!-- Example 1 -->
    <div class="example">
      <h2>Example 1</h2>
      <p>A 2 kg object is dropped from a height of 5 m. Find its speed just before hitting the ground using conservation of energy.</p>
      <div class="solution">
        <p>\( U_i = mgh = 2 \cdot 9.8 \cdot 5 = 98 \, \text{J} \)</p>
        <p>\( K_f = E_\text{mech} - U_f = 98 - 0 = 98 \, \text{J} \)</p>
        <p>\( \frac{1}{2} m v^2 = 98 \Rightarrow v = \sqrt{\frac{2 \cdot 98}{2}} = \sqrt{98} \approx 9.9 \, \text{m/s} \)</p>
      </div>
      <button class="show-solution-btn">Show Solution</button>
    </div>

    <!-- Example 2 -->
    <div class="example">
      <h2>Example 2</h2>
      <p>A roller coaster car of mass 500 kg starts from rest at 20 m height. Find its speed at 5 m height.</p>
      <div class="solution">
        <p>\( K_i + U_i = 0 + 500 \cdot 9.8 \cdot 20 = 98,000 \, \text{J} \)</p>
        <p>\( U_f = mgh = 500 \cdot 9.8 \cdot 5 = 24,500 \, \text{J} \)</p>
        <p>\( K_f = 98,000 - 24,500 = 73,500 \, \text{J} \)</p>
        <p>\( v = \sqrt{\frac{2 K_f}{m}} = \sqrt{\frac{2 \cdot 73,500}{500}} \approx 17.1 \, \text{m/s} \)</p>
      </div>
      <button class="show-solution-btn">Show Solution</button>
    </div>

    <!-- Practice Problems -->
    <div class="practice-box">
      <h2>Practice Problems</h2>
      <ol>
        <li>A 3 kg object falls from 10 m. Compute speed just before impact.</li>
        <li>A 5 kg mass slides down a frictionless ramp from 8 m. Find final speed.</li>
        <li>A ball of mass 2 kg is thrown vertically with 15 m/s. Find maximum height using energy conservation.</li>
        <li>A roller coaster of mass 400 kg goes from 25 m to 10 m height. Determine speed at lower point.</li>
        <li>An object of mass 6 kg is dropped from 12 m. Find kinetic energy just before hitting ground.</li>
      </ol>
    </div>

    <div class="nav-buttons">
      <a href="CMech_Ch3_Sec3.4_apphyC_txb.html" class="nav-btn">&larr; Previous</a>
      <a href="CMech_Ch3_Sec3.6_apphyC_txb.html" class="nav-btn">Next &rarr;</a>
    </div>
  </main>
</div>

<div id="footer-placeholder"></div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('.show-solution-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const sol = btn.previousElementSibling;
      if(sol.style.display === "" || sol.style.display === "none") {
        sol.style.display = "block";
        btn.textContent = "Hide Solution";
      } else {
        sol.style.display = "none";
        btn.textContent = "Show Solution";
      }
      if(window.MathJax) MathJax.typesetPromise();
    });
  });
});

async function loadComponent(url, elementId, pageTitle=null) {
  try {
    const container = document.getElementById(elementId);
    if(!container) return;
    container.innerHTML = '<div class="loading"><div class="loading-spinner"></div></div>';
    const resp = await fetch(url, {cache:'no-store'});
    const html = await resp.text();
    container.innerHTML = html;
    if(pageTitle && elementId.includes('header')){
      const h1 = container.querySelector('header h1');
      if(h1) h1.textContent = pageTitle;
      document.title = pageTitle;
    }
    if(window.MathJax) MathJax.typesetPromise();
  } catch(e){ console.error(e); }
}

document.addEventListener('DOMContentLoaded', async ()=>{
  await loadComponent('textbookheader.html','header-placeholder','Section 3.5: Conservation of Energy');
  await loadComponent('ApphyCmech_sidebar.html','sidebar-placeholder');
  await loadComponent('textbookfooter.html','footer-placeholder');

  const current = window.location.pathname.split('/').pop();
  document.querySelectorAll('#sidebar-placeholder a').forEach(a=>{
    if(a.getAttribute('href')===current){
      a.classList.add('active');
      a.scrollIntoView({behavior:'smooth', block:'center'});
    }
  });
});
</script>

</body>
</html>
