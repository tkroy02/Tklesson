<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AP Calculus Quiz ‚Äì Tklesson</title>

<link rel="canonical" href="https://tklesson.com/" />
<link rel="icon" type="image/png" sizes="16x16" href="/Tklesson1-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/Tklesson1-32x32.png">
<link rel="icon" type="image/png" sizes="48x48" href="/Tklesson1-48x48.png">
<link rel="icon" type="image/png" sizes="64x64" href="/Tklesson1-64x64.png">
<link rel="icon" type="image/png" sizes="192x192" href="/Tklesson1-192x192.png">
<link rel="icon" type="image/png" sizes="512x512" href="/Tklesson1-512x512.png">
<link rel="apple-touch-icon" href="/Tklesson1-192x192.png">

<meta name="theme-color" content="#ffffff">

<!-- MathJax for LaTeX -->
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']],
      processEscapes: true,
      processEnvironments: true
    }
  };
</script>

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-99H54WVS80"></script>
<script>
  window.addEventListener('load', function() {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-99H54WVS80');
  });
</script>

<style>
body { font-family: 'Arial', sans-serif; background: #f0f8ff; margin:0; padding:0; }
header { background: #01579b; color: white; padding: 15px; text-align: center; }
header img { max-height: 60px; vertical-align: middle; margin-right: 10px; }
h1 { display: inline; font-size: 2em; }
h2 { font-size: 1.2em; font-weight: normal; color: #e1f5fe; margin-top: 5px; }
.quiz-container { max-width: 900px; margin: 30px auto; padding: 25px; background: white; border-radius: 12px; box-shadow: 0 0 15px #555; }
.question { margin-bottom: 20px; padding: 15px; border-radius: 8px; background: #e1f5fe; border-left: 4px solid #0288d1; }
.question p { font-weight: bold; margin-bottom: 10px; }
.math-display { font-size: 1.1em; margin: 10px 0; padding: 5px; background: #f8fdff; border-radius: 4px; }
.options label { display: block; margin-bottom: 8px; padding: 8px; border-radius: 4px; }
.options label:hover { background: #bbdefb; }
button { background-color: #0288d1; color: white; padding: 10px 25px; border: none; cursor: pointer; font-size: 1em; border-radius: 5px; margin-top: 10px; margin-right: 10px; }
button:hover { background-color: #01579b; }

.correct { background-color: #c8e6c9; border-left-color: #4caf50; }
.wrong { background-color: #ffcdd2; border-left-color: #f44336; }
#score { font-size: 1.3em; font-weight: bold; margin-top: 15px; padding: 10px; background: #e3f2fd; border-radius: 5px; }
#submission-message { margin-top: 10px; font-weight: bold; color: #01579b; }
.mathjax-container { overflow-x: auto; }
.formula-box { background: #f1f8e9; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #c5e1a5; }
</style>
</head>
<body>

<header>
    <img src="Tklesson1.png" alt="Tklesson Logo">
    <h1>AP Calculus Quiz ‚Äì Tklesson</h1>
    <h2>Product Rule and Quotient Rule</h2>
</header>

<div class="quiz-container">
    <div class="formula-box">
        <strong>Remember the formulas:</strong><br>
        <strong>Product Rule:</strong> $\frac{d}{dx}[f(x)g(x)] = f'(x)g(x) + f(x)g'(x)$<br>
        <strong>Quotient Rule:</strong> $\frac{d}{dx}\left[\frac{f(x)}{g(x)}\right] = \frac{f'(x)g(x) - f(x)g'(x)}{[g(x)]^2}$
    </div>

    <div id="quiz-container"></div>

    <div class="button-row">
        <button id="submitBtn" onclick="checkAnswers()">Submit Quiz</button>
        <button id="restartBtn" onclick="restartQuiz()">Restart Quiz</button>
        <button id="solution-btn" onclick="showSolution()" style="display:none;">View Solution Pack</button>
    </div>

    <div id="score"></div>
    <div id="submission-message"></div>
</div>

<script>
// === AP Calculus Questions with LaTeX ===
const questions = [
    {
        type: 'mcq',
        q: "Find the derivative of $f(x) = x^2 \\cdot \\sin(x)$",
        latex: true,
        options: [
            "$2x\\sin(x) + x^2\\cos(x)$",
            "$2x\\cos(x)$",
            "$x^2\\cos(x)$",
            "$2x\\sin(x) - x^2\\cos(x)$"
        ],
        answer: "$2x\\sin(x) + x^2\\cos(x)$"
    },
    {
        type: 'mcq',
        q: "Find the derivative of $f(x) = \\frac{3x+1}{x^2-4}$",
        latex: true,
        options: [
            "$\\frac{3x^2-2x-12}{(x^2-4)^2}$",
            "$\\frac{-3x^2-2x-12}{(x^2-4)^2}$",
            "$\\frac{3x^2+2x-12}{(x^2-4)^2}$",
            "$\\frac{3x-2}{x^2-4}$"
        ],
        answer: "$\\frac{-3x^2-2x-12}{(x^2-4)^2}$"
    },
    {
        type: 'mcq',
        q: "Find the derivative of $f(x) = x^3 e^x$",
        latex: true,
        options: [
            "$3x^2 e^x$",
            "$x^3 e^x$",
            "$x^2 e^x (3 + x)$",
            "$e^x (3x^2 - x^3)$"
        ],
        answer: "$x^2 e^x (3 + x)$"
    },
    {
        type: 'mcq',
        q: "Find the derivative of $f(x) = \\frac{\\sin x}{x^2+1}$",
        latex: true,
        options: [
            "$\\frac{\\cos x - 2x\\sin x}{(x^2+1)^2}$",
            "$\\frac{(x^2+1)\\cos x - 2x\\sin x}{(x^2+1)^2}$",
            "$\\frac{\\cos x + 2x\\sin x}{(x^2+1)^2}$",
            "$\\frac{\\sin x - 2x\\cos x}{(x^2+1)^2}$"
        ],
        answer: "$\\frac{(x^2+1)\\cos x - 2x\\sin x}{(x^2+1)^2}$"
    },
    {
        type: 'mcq',
        q: "Find the derivative of $f(x) = (x^2+1)(x^3-2x)$",
        latex: true,
        options: [
            "$5x^4 - 3x^2 - 2$",
            "$2x^3 + 3x^2 - 2$",
            "$5x^3 - 3x - 2$",
            "$2x(x^3-2x) + (x^2+1)(3x^2)$"
        ],
        answer: "$5x^4 - 3x^2 - 2$"
    },
    {
        type: 'mcq',
        q: "Find the derivative of $f(x) = \\frac{2x-3}{x+5}$",
        latex: true,
        options: [
            "$\\frac{2}{x+5}$",
            "$\\frac{13}{(x+5)^2}$",
            "$\\frac{2x-3}{(x+5)^2}$",
            "$-\\frac{13}{(x+5)^2}$"
        ],
        answer: "$\\frac{13}{(x+5)^2}$"
    },
    {
        type: 'mcq',
        q: "Find the derivative of $f(x) = x \\ln(x)$",
        latex: true,
        options: [
            "$\\frac{1}{x}$",
            "$\\ln(x)$",
            "$\\ln(x) + 1$",
            "$x + \\frac{1}{x}$"
        ],
        answer: "$\\ln(x) + 1$"
    },
    {
        type: 'mcq',
        q: "Find the derivative of $f(x) = \\frac{e^x}{x^2}$",
        latex: true,
        options: [
            "$\\frac{e^x}{x^2}$",
            "$\\frac{e^x(1-2x)}{x^4}$",
            "$\\frac{e^x(x-2)}{x^3}$",
            "$\\frac{e^x}{x}$"
        ],
        answer: "$\\frac{e^x(x-2)}{x^3}$"
    },
    {
        type: 'mcq',
        q: "Find the derivative of $f(x) = x^2 \\cos(x)$",
        latex: true,
        options: [
            "$2x \\cos x + x^2 \\sin x$",
            "$2x \\cos x - x^2 \\sin x$",
            "$-2x \\sin x - x^2 \\cos x$",
            "$x^2 \\cos x - 2x \\sin x$"
        ],
        answer: "$2x \\cos x - x^2 \\sin x$"
    },
    {
        type: 'mcq',
        q: "Find the derivative of $f(x) = \\frac{3x^2-1}{2x+4}$",
        latex: true,
        options: [
            "$\\frac{3x^2+12x+1}{2(x+2)^2}$",
            "$\\frac{6x^2+24x+2}{(2x+4)^2}$",
            "$\\frac{6x}{2x+4}$",
            "$\\frac{3x-1}{x+2}$"
        ],
        answer: "$\\frac{3x^2+12x+1}{2(x+2)^2}$"
    }
];

// Shuffle helper - Fisher-Yates algorithm
function shuffleArray(arr){ 
    const shuffled = [...arr];
    for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
    }
    return shuffled;
}

// Store the original questions and shuffled state
let originalQuestions = [...questions];
let shuffledQuestions = [];
let questionData = []; // Will store both question and shuffled options

// Initialize quiz data with shuffled questions and options
function initializeQuizData() {
    // Shuffle question order
    shuffledQuestions = shuffleArray(originalQuestions);
    
    // For each question, shuffle options and track correct answer
    questionData = shuffledQuestions.map(q => {
        // Create array of option objects with their values
        const optionObjects = q.options.map(opt => ({
            value: opt,
            isCorrect: normalizeAns(opt) === normalizeAns(q.answer)
        }));
        
        // Shuffle the options
        const shuffledOptions = shuffleArray(optionObjects);
        
        // Find the correct answer in shuffled options
        const correctOptionIndex = shuffledOptions.findIndex(opt => opt.isCorrect);
        
        return {
            ...q,
            displayedOptions: shuffledOptions.map(opt => opt.value),
            correctOptionIndex: correctOptionIndex,
            originalAnswer: q.answer
        };
    });
}

const container = document.getElementById('quiz-container');

// Render quiz dynamically with shuffled options
function renderQuiz(){
    container.innerHTML = '';
    
    questionData.forEach((q, idx) => {
        const div = document.createElement('div');
        div.classList.add('question');
        div.id = `qdiv${idx}`;

        let html = `<p>${idx + 1}. ${q.q}</p>`;
        
        html += `<div class="options">`;
        // Use the pre-shuffled options
        html += q.displayedOptions.map((opt, optIdx) => 
            `<label><input type="radio" name="q${idx}" value="${optIdx}"> ${opt}</label>`
        ).join('');
        html += `</div>`;

        div.innerHTML = html;
        container.appendChild(div);
    });

    // Reset score and messages
    document.getElementById('score').innerText = '';
    document.getElementById('solution-btn').style.display = 'none';
    document.getElementById('submission-message').textContent = '';
    
    // Typeset MathJax after rendering
    if (window.MathJax) {
        MathJax.typeset();
    }
}

// Normalize user input (remove LaTeX delimiters for comparison)
function normalizeAns(s){
    return s.replace(/\$/g, '').replace(/\\/g, '').replace(/\s+/g, '').toLowerCase();
}

// Check answers - SIMPLIFIED VERSION (no backend)
function checkAnswers(){
    let score = 0;
    
    questionData.forEach((q, idx) => {
        const div = document.getElementById(`qdiv${idx}`);
        div.classList.remove('correct', 'wrong');
        
        // Remove any previous correct answer display
        const oldAnswer = div.querySelector('.correct-answer-display');
        if (oldAnswer) oldAnswer.remove();

        const selected = document.querySelector(`input[name="q${idx}"]:checked`);
        const userSelectedIndex = selected ? parseInt(selected.value) : -1;
        const isCorrect = userSelectedIndex === q.correctOptionIndex;

        if(isCorrect){
            div.classList.add('correct');
            score++;
        } else {
            div.classList.add('wrong');
            // Show correct answer
            const answerDisplay = document.createElement('div');
            answerDisplay.className = 'correct-answer-display';
            answerDisplay.style.color = '#01579b';
            answerDisplay.style.marginTop = '6px';
            answerDisplay.style.fontWeight = 'bold';
            answerDisplay.innerHTML = `Correct answer: ${q.displayedOptions[q.correctOptionIndex]}`;
            div.appendChild(answerDisplay);
        }
    });

    const scorePercentage = Math.round((score / questionData.length) * 100);
    document.getElementById('score').innerHTML = `Your score: <strong>${score} / ${questionData.length}</strong> (${scorePercentage}%)`;
    document.getElementById('solution-btn').style.display = 'inline-block';
    document.getElementById('submission-message').textContent = 'Quiz completed! Click "View Solution Pack" for detailed explanations.';
    document.getElementById('submission-message').style.color = '#01579b';

    // Disable further selection
    const allInputs = document.querySelectorAll('#quiz-container input[type="radio"]');
    allInputs.forEach(input => input.disabled = true);
    
    // Re-typeset MathJax after showing answers
    if (window.MathJax) {
        MathJax.typeset();
    }
}

// Restart quiz
function restartQuiz(){
    initializeQuizData(); // Re-shuffle both questions and options
    renderQuiz();
    
    // Re-enable submit button and inputs
    document.getElementById('submitBtn').disabled = false;
    document.getElementById('submitBtn').style.backgroundColor = '';
    
    // Re-enable all radio buttons
    const allInputs = document.querySelectorAll('#quiz-container input[type="radio"]');
    allInputs.forEach(input => input.disabled = false);
    
    // Clear messages
    document.getElementById('submission-message').textContent = '';
}

// Show solution with detailed explanations
function showSolution() {
    const solutions = `
        <!DOCTYPE html>
        <html>
        <head>
            <title>AP Calculus: Product & Quotient Rule Solutions | Tklesson</title>
            <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"><\/script>
            <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"><\/script>
            <script>
                MathJax = {
                    tex: {
                        inlineMath: [['$', '$'], ['\\\\(', '\\\\)']],
                        displayMath: [['$$', '$$'], ['\\\\[', '\\\\]']],
                        processEscapes: true,
                        processEnvironments: true
                    }
                };
            <\/script>
            <style>
                body {
                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                    line-height: 1.6;
                    color: #333;
                    max-width: 950px;
                    margin: 0 auto;
                    padding: 25px;
                    background-color: #f9f9f9;
                }
                .header {
                    background: linear-gradient(135deg, #01579b 0%, #0288d1 100%);
                    color: white;
                    padding: 25px;
                    border-radius: 10px;
                    margin-bottom: 30px;
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
                }
                h1 {
                    margin: 0;
                    font-size: 28px;
                    font-weight: 600;
                }
                .subtitle {
                    font-size: 16px;
                    opacity: 0.9;
                    margin-top: 8px;
                }
                .learning-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                    gap: 20px;
                    margin: 30px 0;
                }
                .learning-card {
                    background: white;
                    padding: 20px;
                    border-radius: 8px;
                    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
                    border-left: 4px solid #7e57c2;
                }
                .learning-card h3 {
                    color: #5e35b1;
                    margin-top: 0;
                    display: flex;
                    align-items: center;
                    gap: 10px;
                }
                .question-solution {
                    background: white;
                    padding: 25px;
                    margin-bottom: 25px;
                    border-radius: 8px;
                    box-shadow: 0 2px 6px rgba(0,0,0,0.05);
                    border-left: 4px solid #0288d1;
                }
                .question-number {
                    background: #0288d1;
                    color: white;
                    width: 32px;
                    height: 32px;
                    border-radius: 50%;
                    display: inline-flex;
                    align-items: center;
                    justify-content: center;
                    margin-right: 12px;
                    font-weight: bold;
                }
                .question-text {
                    font-weight: 600;
                    color: #01579b;
                    margin-bottom: 15px;
                    font-size: 17px;
                }
                .correct-answer {
                    background: #e8f5e9;
                    padding: 15px;
                    border-radius: 6px;
                    margin: 15px 0;
                    border-left: 4px solid #4caf50;
                }
                .explanation {
                    background: #f5f5f5;
                    padding: 20px;
                    border-radius: 6px;
                    margin-top: 15px;
                }
                .key-concept {
                    background: #e3f2fd;
                    padding: 12px 15px;
                    border-radius: 6px;
                    margin: 10px 0;
                    font-style: italic;
                }
                .example {
                    background: #fff8e1;
                    padding: 12px 15px;
                    border-radius: 6px;
                    margin: 10px 0;
                    border-left: 3px solid #ffb300;
                }
                .step {
                    background: #f5f5f5;
                    padding: 10px;
                    margin: 8px 0;
                    border-left: 3px solid #4caf50;
                    border-radius: 4px;
                }
                .mnemonic {
                    background: #f3e5f5;
                    padding: 12px 15px;
                    border-radius: 6px;
                    margin: 10px 0;
                    font-size: 14px;
                }
                .warning {
                    background: #ffebee;
                    padding: 12px 15px;
                    border-radius: 6px;
                    margin: 10px 0;
                    border-left: 3px solid #f44336;
                }
                .highlight {
                    background-color: #fff9c4;
                    padding: 2px 4px;
                    border-radius: 3px;
                }
                .definition {
                    color: #d81b60;
                    font-weight: 600;
                }
                .formula {
                    font-family: 'Courier New', monospace;
                    background: #f5f5f5;
                    padding: 8px 12px;
                    border-radius: 4px;
                    margin: 5px 0;
                    border-left: 3px solid #0288d1;
                }
                .derivative-table {
                    width: 100%;
                    border-collapse: collapse;
                    margin: 10px 0;
                }
                .derivative-table th, .derivative-table td {
                    border: 1px solid #ddd;
                    padding: 8px;
                    text-align: left;
                }
                .derivative-table th {
                    background-color: #e3f2fd;
                }
                .footer {
                    text-align: center;
                    margin-top: 40px;
                    padding-top: 20px;
                    border-top: 1px solid #ddd;
                    color: #666;
                    font-size: 14px;
                }
                .math-container {
                    overflow-x: auto;
                    margin: 10px 0;
                }
                @media print {
                    body { background: white; }
                    .question-solution { break-inside: avoid; }
                }
            </style>
        </head>
        <body>
            <div class="header">
                <h1>AP Calculus: Product & Quotient Rule Solutions</h1>
                <div class="subtitle">Step-by-Step Derivative Calculations ‚Ä¢ Common Derivatives ‚Ä¢ Application Strategies</div>
            </div>

            <div class="learning-grid">
                <div class="learning-card">
                    <h3>üìù Product Rule</h3>
                    ‚Ä¢ Formula: $(fg)' = f'g + fg'$<br>
                    ‚Ä¢ "First times derivative of second plus second times derivative of first"<br>
                    ‚Ä¢ Applies to multiplication of functions
                </div>
                <div class="learning-card">
                    <h3>‚ûó Quotient Rule</h3>
                    ‚Ä¢ Formula: $(f/g)' = (f'g - fg')/g^2$<br>
                    ‚Ä¢ "Low d-high minus high d-low over low squared"<br>
                    ‚Ä¢ Applies to division of functions
                </div>
                <div class="learning-card">
                    <h3>üìä Common Derivatives</h3>
                    ‚Ä¢ $\\frac{d}{dx}x^n = nx^{n-1}$<br>
                    ‚Ä¢ $\\frac{d}{dx}\\sin x = \\cos x$<br>
                    ‚Ä¢ $\\frac{d}{dx}\\cos x = -\\sin x$<br>
                    ‚Ä¢ $\\frac{d}{dx}e^x = e^x$<br>
                    ‚Ä¢ $\\frac{d}{dx}\\ln x = \\frac{1}{x}$
                </div>
                <div class="learning-card">
                    <h3>üéØ Problem Strategies</h3>
                    ‚Ä¢ Identify product vs. quotient<br>
                    ‚Ä¢ Simplify before differentiating<br>
                    ‚Ä¢ Combine like terms<br>
                    ‚Ä¢ Check for alternative forms<br>
                    ‚Ä¢ Verify with product expansion
                </div>
            </div>

            <!-- Question 1 Solution -->
            <div class="question-solution">
                <div class="question-text">
                    <span class="question-number">1</span>
                    Find the derivative of $f(x) = x^2 \\cdot \\sin(x)$
                </div>
                
                <div class="correct-answer">
                    <strong>‚úì Correct Answer:</strong> $2x\\sin(x) + x^2\\cos(x)$
                </div>
                
                <div class="explanation">
                    <p>This is a <span class="definition">Product Rule</span> problem: $f(x) \cdot g(x)$ where $f(x) = x^2$ and $g(x) = \\sin x$.</p>
                    
                    <div class="key-concept">
                        <strong>Product Rule:</strong> $(f \\cdot g)' = f' \\cdot g + f \\cdot g'$
                    </div>
                    
                    <div class="step">
                        <strong>Step 1: Identify components and their derivatives</strong><br>
                        $f(x) = x^2$ so that $f'(x) = 2x$<br>
                        $g(x) = \\sin x$ so that $g'(x) = \\cos x$
                    </div>
                    
                    <div class="step">
                        <strong>Step 2: Apply Product Rule</strong><br>
                        $(x^2 \\sin x)' = (x^2)' \\cdot \\sin x + x^2 \\cdot (\\sin x)'$<br>
                        $= (2x) \\cdot \\sin x + x^2 \\cdot (\\cos x)$<br>
                        $= 2x\\sin x + x^2\\cos x$
                    </div>
                    
                    <div class="formula">
                        Complete calculation:<br>
                        $\\frac{d}{dx}[x^2 \\sin x] = \\frac{d}{dx}[x^2] \\cdot \\sin x + x^2 \\cdot \\frac{d}{dx}[\\sin x] = 2x\\sin x + x^2\\cos x$
                    </div>
                    
                    <div class="example">
                        <strong>Alternative Approach (Expansion):</strong><br>
                        While not simpler here, sometimes expanding helps verification:<br>
                        $x^2 \\sin x = \\sin x \\cdot x^2$<br>
        Same rule applies: $(\\sin x)' \\cdot x^2 + \\sin x \\cdot (x^2)' = \\cos x \\cdot x^2 + \\sin x \\cdot 2x = x^2\\cos x + 2x\\sin x$
                    </div>
                </div>
            </div>

            <!-- Question 2 Solution -->
            <div class="question-solution">
                <div class="question-text">
                    <span class="question-number">2</span>
                    Find the derivative of $f(x) = \\frac{3x+1}{x^2-4}$
                </div>
                
                <div class="correct-answer">
                    <strong>‚úì Correct Answer:</strong> $\\frac{-3x^2-2x-12}{(x^2-4)^2}$
                </div>
                
                <div class="explanation">
                    <p>This is a <span class="definition">Quotient Rule</span> problem: $f(x) / g(x)$ where $f(x) = 3x+1$ and $g(x) = x^2-4$.</p>
                    
                    <div class="key-concept">
                        <strong>Quotient Rule:</strong> $\\left(\\frac{f}{g}\\right)' = \\frac{f'g - fg'}{g^2}$
                    </div>
                    
                    <div class="step">
                        <strong>Step 1: Identify components and derivatives</strong><br>
                        $f(x) = 3x+1$ so that $f'(x) = 3$<br>
                        $g(x) = x^2-4$ so that $g'(x) = 2x$
                    </div>
                    
                    <div class="step">
                        <strong>Step 2: Apply Quotient Rule</strong><br>
                        $f'(x) = \\frac{(3)(x^2-4) - (3x+1)(2x)}{(x^2-4)^2}$
                    </div>
                    
                    <div class="step">
                        <strong>Step 3: Simplify numerator</strong><br>
                        Numerator: $3(x^2-4) - 2x(3x+1)$<br>
                        $= 3x^2 - 12 - (6x^2 + 2x)$<br>
                        $= 3x^2 - 12 - 6x^2 - 2x$<br>
                        $= -3x^2 - 2x - 12$
                    </div>
                    
                    <div class="formula">
                        Complete calculation:<br>
                        $f'(x) = \\frac{(3)(x^2-4) - (3x+1)(2x)}{(x^2-4)^2} = \\frac{3x^2-12 - (6x^2+2x)}{(x^2-4)^2} = \\frac{-3x^2-2x-12}{(x^2-4)^2}$
                    </div>
                    
                    <div class="warning">
                        <strong>Common Mistake:</strong> Forgetting the negative sign in numerator or misplacing parentheses. Always use $(f'g - fg')$ not $(fg' - f'g)$.
                    </div>
                </div>
            </div>

            <!-- Question 3 Solution -->
            <div class="question-solution">
                <div class="question-text">
                    <span class="question-number">3</span>
                    Find the derivative of $f(x) = x^3 e^x$
                </div>
                
                <div class="correct-answer">
                    <strong>‚úì Correct Answer:</strong> $x^2 e^x (3 + x)$
                </div>
                
                <div class="explanation">
                    <p>This is a <span class="definition">Product Rule</span> problem with exponential function.</p>
                    
                    <div class="key-concept">
                        <strong>Key Derivative:</strong> $\\frac{d}{dx}e^x = e^x$ (unique property)
                    </div>
                    
                    <div class="step">
                        <strong>Step 1: Apply Product Rule</strong><br>
                        $f(x) = x^3 \\cdot e^x$<br>
                        $f'(x) = (x^3)' \\cdot e^x + x^3 \\cdot (e^x)'$<br>
                        $= 3x^2 \\cdot e^x + x^3 \\cdot e^x$
                    </div>
                    
                    <div class="step">
                        <strong>Step 2: Factor common terms</strong><br>
                        $f'(x) = 3x^2 e^x + x^3 e^x$<br>
                        Common factor: $x^2 e^x$<br>
                        $= x^2 e^x (3 + x)$
                    </div>
                    
                    <div class="formula">
                        Complete factorization:<br>
                        $f'(x) = 3x^2 e^x + x^3 e^x = x^2 e^x (3 + x)$
                    </div>
                    
                    <div class="example">
                        <strong>Pattern Recognition:</strong><br>
                        For $x^n e^x$, derivative follows pattern:<br>
                        ‚Ä¢ $x e^x \rightarrow e^x(x+1)$<br>
                        ‚Ä¢ $x^2 e^x \rightarrow e^x(x^2+2x)$<br>
                        ‚Ä¢ $x^3 e^x \rightarrow e^x(x^3+3x^2)$ or $x^2 e^x(x+3)$<br>
                        General: $\\frac{d}{dx}[x^n e^x] = e^x(x^n + nx^{n-1}) = x^{n-1}e^x(x + n)$
                    </div>
                </div>
            </div>

            <!-- Question 4 Solution -->
            <div class="question-solution">
                <div class="question-text">
                    <span class="question-number">4</span>
                    Find the derivative of $f(x) = \\frac{\\sin x}{x^2+1}$
                </div>
                
                <div class="correct-answer">
                    <strong>‚úì Correct Answer:</strong> $\\frac{(x^2+1)\\cos x - 2x\\sin x}{(x^2+1)^2}$
                </div>
                
                <div class="explanation">
                    <p>This is a <span class="definition">Quotient Rule</span> problem with trigonometric function.</p>
                    
                    <div class="key-concept">
                        <strong>Trigonometric Derivatives:</strong><br>
                        $\\frac{d}{dx}\\sin x = \\cos x$<br>
                        $\\frac{d}{dx}\\cos x = -\\sin x$
                    </div>
                    
                    <div class="step">
                        <strong>Step 1: Identify components</strong><br>
                        $f(x) = \\sin x$ so that $f'(x) = \\cos x$<br>
                        $g(x) = x^2+1$ so that $g'(x) = 2x$
                    </div>
                    
                    <div class="step">
                        <strong>Step 2: Apply Quotient Rule</strong><br>
                        $f'(x) = \\frac{(\\cos x)(x^2+1) - (\\sin x)(2x)}{(x^2+1)^2}$<br>
                        $= \\frac{(x^2+1)\\cos x - 2x\\sin x}{(x^2+1)^2}$
                    </div>
                    
                    <div class="formula">
                        Quotient Rule application:<br>
                        $\\frac{d}{dx}\\left[\\frac{\\sin x}{x^2+1}\\right] = \\frac{(\\cos x)(x^2+1) - (\\sin x)(2x)}{(x^2+1)^2}$
                    </div>
                    
                    <div class="mnemonic">
                        <strong>Memory Aid for Quotient Rule:</strong><br>
                        "Low d-high minus high d-low, over low squared"<br>
                        Where: low = denominator, high = numerator<br>
                        Low d-high: $(x^2+1) \\cdot \\cos x$<br>
                        High d-low: $(\\sin x) \\cdot (2x)$
                    </div>
                </div>
            </div>

            <!-- Question 5 Solution -->
            <div class="question-solution">
                <div class="question-text">
                    <span class="question-number">5</span>
                    Find the derivative of $f(x) = (x^2+1)(x^3-2x)$
                </div>
                
                <div class="correct-answer">
                    <strong>‚úì Correct Answer:</strong> $5x^4 - 3x^2 - 2$
                </div>
                
                <div class="explanation">
                    <p>This can be solved by <span class="definition">Product Rule</span> or by <span class="definition">expanding first</span>.</p>
                    
                    <div class="step">
                        <strong>Method 1: Product Rule</strong><br>
                        $f(x) = (x^2+1)(x^3-2x)$<br>
                        Let $u = x^2+1$ so that $u' = 2x$<br>
                        Let $v = x^3-2x$ so that $v' = 3x^2-2$<br>
                        $f'(x) = u'v + uv' = (2x)(x^3-2x) + (x^2+1)(3x^2-2)$<br>
                        $= 2x^4 - 4x^2 + 3x^4 - 2x^2 + 3x^2 - 2$<br>
                        $= 5x^4 - 3x^2 - 2$
                    </div>
                    
                    <div class="step">
                        <strong>Method 2: Expand First (Simpler)</strong><br>
                        $f(x) = (x^2+1)(x^3-2x)$<br>
                        $= x^2(x^3-2x) + 1(x^3-2x)$<br>
                        $= x^5 - 2x^3 + x^3 - 2x$<br>
                        $= x^5 - x^3 - 2x$<br>
                        $f'(x) = 5x^4 - 3x^2 - 2$
                    </div>
                    
                    <div class="formula">
                        Both methods yield same result:<br>
                        $f'(x) = 5x^4 - 3x^2 - 2$
                    </div>
                    
                    <div class="warning">
                        <strong>Strategy Choice:</strong> For polynomial products, expanding first is often easier. For transcendental functions (trig, exponential, logarithmic), Product Rule is necessary.
                    </div>
                </div>
            </div>

            <!-- Question 6 Solution -->
            <div class="question-solution">
                <div class="question-text">
                    <span class="question-number">6</span>
                    Find the derivative of $f(x) = \\frac{2x-3}{x+5}$
                </div>
                
                <div class="correct-answer">
                    <strong>‚úì Correct Answer:</strong> $\\frac{13}{(x+5)^2}$
                </div>
                
                <div class="explanation">
                    <p>This is a straightforward <span class="definition">Quotient Rule</span> application.</p>
                    
                    <div class="step">
                        <strong>Step 1: Identify components</strong><br>
                        $f(x) = 2x-3$ so that $f'(x) = 2$<br>
                        $g(x) = x+5$ so that $g'(x) = 1$
                    </div>
                    
                    <div class="step">
                        <strong>Step 2: Apply Quotient Rule</strong><br>
                        $f'(x) = \\frac{(2)(x+5) - (2x-3)(1)}{(x+5)^2}$<br>
                        $= \\frac{2x+10 - (2x-3)}{(x+5)^2}$<br>
                        $= \\frac{2x+10 - 2x + 3}{(x+5)^2}$<br>
                        $= \\frac{13}{(x+5)^2}$
                    </div>
                    
                    <div class="formula">
                        Calculation with careful parentheses:<br>
                        $\\frac{d}{dx}\\left[\\frac{2x-3}{x+5}\\right] = \\frac{2(x+5) - (2x-3)(1)}{(x+5)^2} = \\frac{13}{(x+5)^2}$
                    </div>
                    
                    <div class="example">
                        <strong>Verification:</strong> The derivative is always positive (13/(positive)^2 > 0), meaning function is always increasing. This makes sense for a rational function with numerator degree = denominator degree.
                    </div>
                </div>
            </div>

            <!-- Question 7 Solution -->
            <div class="question-solution">
                <div class="question-text">
                    <span class="question-number">7</span>
                    Find the derivative of $f(x) = x \\ln(x)$
                </div>
                
                <div class="correct-answer">
                    <strong>‚úì Correct Answer:</strong> $\\ln(x) + 1$
                </div>
                
                <div class="explanation">
                    <p>This is a <span class="definition">Product Rule</span> problem with logarithmic function.</p>
                    
                    <div class="key-concept">
                        <strong>Logarithmic Derivative:</strong> $\\frac{d}{dx}\\ln x = \\frac{1}{x}$
                    </div>
                    
                    <div class="step">
                        <strong>Step 1: Apply Product Rule</strong><br>
                        $f(x) = x \\cdot \\ln x$<br>
                        $f'(x) = (x)' \\cdot \\ln x + x \\cdot (\\ln x)'$<br>
                        $= 1 \\cdot \\ln x + x \\cdot \\frac{1}{x}$<br>
                        $= \\ln x + 1$
                    </div>
                    
                    <div class="formula">
                        Product Rule with derivatives:<br>
                        $\\frac{d}{dx}[x \\ln x] = \\frac{d}{dx}[x] \\cdot \\ln x + x \\cdot \\frac{d}{dx}[\\ln x] = 1 \\cdot \\ln x + x \\cdot \\frac{1}{x} = \\ln x + 1$
                    </div>
                    
                    <div class="example">
                        <strong>Domain Consideration:</strong> $\\ln x$ is defined for $x > 0$, so derivative $\\ln x + 1$ is also defined for $x > 0$. Note that $\\ln x + 1 = 0$ when $\\ln x = -1$ or $x = e^{-1} \\approx 0.368$, which is a critical point.
                    </div>
                </div>
            </div>

            <!-- Question 8 Solution -->
            <div class="question-solution">
                <div class="question-text">
                    <span class="question-number">8</span>
                    Find the derivative of $f(x) = \\frac{e^x}{x^2}$
                </div>
                
                <div class="correct-answer">
                    <strong>‚úì Correct Answer:</strong> $\\frac{e^x(x-2)}{x^3}$
                </div>
                
                <div class="explanation">
                    <p>This is a <span class="definition">Quotient Rule</span> problem with exponential function.</p>
                    
                    <div class="key-concept">
                        <strong>Exponential Derivative:</strong> $\\frac{d}{dx}e^x = e^x$ (unchanged)
                    </div>
                    
                    <div class="step">
                        <strong>Step 1: Apply Quotient Rule</strong><br>
                        $f(x) = \\frac{e^x}{x^2}$<br>
                        $f'(x) = \\frac{(e^x)(x^2) - (e^x)(2x)}{(x^2)^2}$<br>
                        $= \\frac{e^x x^2 - 2x e^x}{x^4}$
                    </div>
                    
                    <div class="step">
                        <strong>Step 2: Factor and simplify</strong><br>
                        $f'(x) = \\frac{x e^x (x - 2)}{x^4}$<br>
                        $= \\frac{e^x (x - 2)}{x^3}$
                    </div>
                    
                    <div class="formula">
                        Complete simplification:<br>
                        $\\frac{d}{dx}\\left[\\frac{e^x}{x^2}\\right] = \\frac{e^x x^2 - 2x e^x}{x^4} = \\frac{x e^x(x-2)}{x^4} = \\frac{e^x(x-2)}{x^3}$
                    </div>
                    
                    <div class="warning">
                        <strong>Domain Restriction:</strong> $x \\neq 0$ because original function has $x^2$ in denominator. The derivative also has $x^3$ in denominator, so $x \\neq 0$.
                    </div>
                </div>
            </div>

            <!-- Question 9 Solution -->
            <div class="question-solution">
                <div class="question-text">
                    <span class="question-number">9</span>
                    Find the derivative of $f(x) = x^2 \\cos(x)$
                </div>
                
                <div class="correct-answer">
                    <strong>‚úì Correct Answer:</strong> $2x \\cos x - x^2 \\sin x$
                </div>
                
                <div class="explanation">
                    <p>This is a <span class="definition">Product Rule</span> problem with cosine function.</p>
                    
                    <div class="key-concept">
                        <strong>Cosine Derivative:</strong> $\\frac{d}{dx}\\cos x = -\\sin x$
                    </div>
                    
                    <div class="step">
                        <strong>Step 1: Apply Product Rule</strong><br>
                        $f(x) = x^2 \\cdot \\cos x$<br>
                        $f'(x) = (x^2)' \\cdot \\cos x + x^2 \\cdot (\\cos x)'$<br>
                        $= 2x \\cdot \\cos x + x^2 \\cdot (-\\sin x)$<br>
                        $= 2x \\cos x - x^2 \\sin x$
                    </div>
                    
                    <div class="formula">
                        Careful with negative sign:<br>
                        $\\frac{d}{dx}[x^2 \\cos x] = 2x \\cos x + x^2 (-\\sin x) = 2x \\cos x - x^2 \\sin x$
                    </div>
                    
                    <div class="example">
                        <strong>Comparison with Q1:</strong><br>
                        Q1: $x^2 \\sin x \rightarrow 2x\\sin x + x^2\\cos x$<br>
                        Q9: $x^2 \\cos x \rightarrow 2x\\cos x - x^2\\sin x$<br>
                        Notice the pattern and sign difference due to $\\cos' = -\\sin$ vs $\\sin' = \\cos$.
                    </div>
                </div>
            </div>

            <!-- Question 10 Solution -->
            <div class="question-solution">
                <div class="question-text">
                    <span class="question-number">10</span>
                    Find the derivative of $f(x) = \\frac{3x^2-1}{2x+4}$
                </div>
                
                <div class="correct-answer">
                    <strong>‚úì Correct Answer:</strong> $\\frac{3x^2+12x+1}{2(x+2)^2}$
                </div>
                
                <div class="explanation">
                    <p>This is a <span class="definition">Quotient Rule</span> problem that benefits from simplification.</p>
                    
                    <div class="step">
                        <strong>Step 1: Apply Quotient Rule</strong><br>
                        $f(x) = \\frac{3x^2-1}{2x+4}$<br>
                        $f'(x) = \\frac{(6x)(2x+4) - (3x^2-1)(2)}{(2x+4)^2}$<br>
                        $= \\frac{12x^2+24x - (6x^2-2)}{(2x+4)^2}$<br>
                        $= \\frac{12x^2+24x - 6x^2 + 2}{(2x+4)^2}$<br>
                        $= \\frac{6x^2+24x+2}{(2x+4)^2}$
                    </div>
                    
                    <div class="step">
                        <strong>Step 2: Factor and simplify</strong><br>
                        Numerator: $6x^2+24x+2 = 2(3x^2+12x+1)$<br>
                        Denominator: $(2x+4)^2 = [2(x+2)]^2 = 4(x+2)^2$<br>
                        $f'(x) = \\frac{2(3x^2+12x+1)}{4(x+2)^2} = \\frac{3x^2+12x+1}{2(x+2)^2}$
                    </div>
                    
                    <div class="formula">
                        Final simplified form:<br>
                        $f'(x) = \\frac{3x^2+12x+1}{2(x+2)^2}$
                    </div>
                    
                    <div class="warning">
                        <strong>Simplification Importance:</strong> On AP exams, simplified answers often earn full credit, while unsimplified forms may lose points. Always simplify rational expressions by factoring common factors.
                    </div>
                </div>
            </div>

            <div class="footer">
                <p>AP Calculus: Product & Quotient Rule Solutions | Tklesson Tutoring Platform</p>
                <p>For personalized calculus tutoring and AP exam preparation, visit <strong>tklesson.com</strong></p>
                <p style="font-size: 12px; color: #888; margin-top: 10px;">
                    Mastery of Product and Quotient Rules is essential for success in AP Calculus AB/BC and higher mathematics courses.
                </p>
            </div>
        </body>
        </html>
    `;
    
    const solutionWindow = window.open('', '_blank', 'width=1000,height=800');
    solutionWindow.document.write(solutions);
    solutionWindow.document.close();
}

// Initialize quiz
initializeQuizData();
renderQuiz();
</script>

</body>
</html>
