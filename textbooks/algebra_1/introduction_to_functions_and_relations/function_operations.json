{
  "expanded_description": "Functions can be combined to create new functions. Just as we add, subtract, multiply, and divide numbers, we can perform these operations on functions. Function composition takes this further by applying one function to the output of another. These operations allow us to model complex relationships by combining simpler functions.",
  
  "core_concept": {
    "principle": "For functions $f$ and $g$ with overlapping domains, we define:<br>$(f + g)(x) = f(x) + g(x)$<br>$(f - g)(x) = f(x) - g(x)$<br>$(f \\cdot g)(x) = f(x) \\cdot g(x)$<br>$(\\frac{f}{g})(x) = \\frac{f(x)}{g(x)}$, where $g(x) \\neq 0$<br>Composition: $(f \\circ g)(x) = f(g(x))$ - apply $g$ first, then $f$.",
    
    "explanation": "Think of functions as machines. Adding functions is like running two machines and adding their outputs. Multiplying functions multiplies their outputs. Composition is like feeding the output of one machine directly into another machine—the result of the first becomes the input to the second.",
    
    "image": {
      "src": "images/unit3/function_operations_overview.png",
      "alt": "Visual diagram showing function machines being combined: addition, multiplication, composition",
      "caption": "Figure 3.10.1: Combining functions through operations and composition."
    }
  },

  "sections": [
    {
      "section_title": "3.10.1 Adding and Subtracting Functions",
      
      "introduction": "Adding or subtracting functions combines their outputs for each input. The new function's domain is the intersection of the original domains.",
      
      "introduction_image": {
        "src": "images/unit3/add_subtract_intro.png",
        "alt": "Two function machines with outputs being added",
        "caption": "Figure 3.10.2: Adding functions."
      },
      
      "key_concept": {
        "definition": "The sum of functions $f$ and $g$ is defined as $(f + g)(x) = f(x) + g(x)$. The difference is $(f - g)(x) = f(x) - g(x)$. The domain of the new function is all $x$ where both $f(x)$ and $g(x)$ are defined (the intersection of their domains).",
        
        "context": "Adding functions is useful when total cost is the sum of fixed and variable costs, or when combined data comes from multiple sources.",
        
        "image": {
          "src": "images/unit3/add_subtract_formula.png",
          "alt": "Formula for adding and subtracting functions",
          "caption": "Figure 3.10.3: Addition and subtraction of functions."
        }
      },

      "worked_examples": [
        {
          "title": "Adding and Subtracting Functions",
          
          "image": {
            "src": "images/unit3/add_subtract_example.png",
            "alt": "Functions f(x)=2x+3 and g(x)=x^2-1",
            "caption": "Figure 3.10.4: Find f+g and f-g."
          },
          
          "problem": "Given $f(x) = 2x + 3$ and $g(x) = x^2 - 1$, find:<br>a) $(f + g)(x)$<br>b) $(f - g)(x)$<br>c) $(g - f)(x)$<br>d) Evaluate $(f + g)(4)$",
          
          "step_by_step": [
            {
              "step": "a) $(f + g)(x)$",
              "explanation": "Add the function rules: $f(x) + g(x)$",
              "calculation": "$(f + g)(x) = (2x + 3) + (x^2 - 1) = x^2 + 2x + 2$",
              
              "image": {
                "src": "images/unit3/add_subtract_step_a.png",
                "alt": "Adding f and g",
                "caption": "Figure 3.10.5: (f+g)(x) = x² + 2x + 2."
              }
            },
            {
              "step": "b) $(f - g)(x)$",
              "explanation": "Subtract $g(x)$ from $f(x)$",
              "calculation": "$(f - g)(x) = (2x + 3) - (x^2 - 1) = 2x + 3 - x^2 + 1 = -x^2 + 2x + 4$",
              
              "image": {
                "src": "images/unit3/add_subtract_step_b.png",
                "alt": "Subtracting g from f",
                "caption": "Figure 3.10.6: (f-g)(x) = -x² + 2x + 4."
              }
            },
            {
              "step": "c) $(g - f)(x)$",
              "explanation": "Subtract $f(x)$ from $g(x)$",
              "calculation": "$(g - f)(x) = (x^2 - 1) - (2x + 3) = x^2 - 1 - 2x - 3 = x^2 - 2x - 4$",
              
              "image": {
                "src": "images/unit3/add_subtract_step_c.png",
                "alt": "Subtracting f from g",
                "caption": "Figure 3.10.7: (g-f)(x) = x² - 2x - 4."
              }
            },
            {
              "step": "d) $(f + g)(4)$",
              "explanation": "Substitute $x = 4$ into the sum function",
              "calculation": "$(f + g)(4) = 4^2 + 2(4) + 2 = 16 + 8 + 2 = 26$"
            }
          ],
          
          "final_answer": "a) $(f + g)(x) = x^2 + 2x + 2$<br>b) $(f - g)(x) = -x^2 + 2x + 4$<br>c) $(g - f)(x) = x^2 - 2x - 4$<br>d) $(f + g)(4) = 26$",
          "concept_applied": "Add or subtract function rules term by term, combining like terms."
        },
        {
          "title": "Domain of Combined Functions",
          
          "image": {
            "src": "images/unit3/add_subtract_domain.png",
            "alt": "Functions with restricted domains",
            "caption": "Figure 3.10.8: Find domain of sum."
          },
          
          "problem": "Given $f(x) = \\sqrt{x}$ and $g(x) = \\frac{1}{x-2}$, find $(f + g)(x)$ and its domain.",
          
          "step_by_step": [
            {
              "step": "Find individual domains",
              "explanation": "$f(x) = \\sqrt{x}$ requires $x \\geq 0$<br>$g(x) = \\frac{1}{x-2}$ requires $x \\neq 2$",
              "calculation": "Domain of $f$: $[0, \\infty)$<br>Domain of $g$: $(-\\infty, 2) \\cup (2, \\infty)$"
            },
            {
              "step": "Find intersection",
              "explanation": "Domain of sum = values in both domains",
              "calculation": "Intersection: $[0, 2) \\cup (2, \\infty)$"
            },
            {
              "step": "Write the sum",
              "explanation": "$(f + g)(x) = \\sqrt{x} + \\frac{1}{x-2}$",
              "calculation": "Valid for all $x$ in the intersection"
            }
          ],
          
          "final_answer": "$(f + g)(x) = \\sqrt{x} + \\frac{1}{x-2}$, domain: $[0,2) \\cup (2,\\infty)$",
          "concept_applied": "Domain of sum is intersection of individual domains."
        }
      ],

      "image": {
        "src": "images/unit3/add_subtract_summary.png",
        "alt": "Summary of adding and subtracting functions",
        "caption": "Figure 3.10.9: Addition and subtraction summary."
      }
    },

    {
      "section_title": "3.10.2 Multiplying and Dividing Functions",
      
      "introduction": "Multiplying and dividing functions combines outputs through multiplication and division, with careful attention to domain restrictions.",
      
      "introduction_image": {
        "src": "images/unit3/multiply_divide_intro.png",
        "alt": "Function machines with outputs being multiplied",
        "caption": "Figure 3.10.10: Multiplying functions."
      },
      
      "key_concept": {
        "definition": "The product of functions $f$ and $g$ is $(f \\cdot g)(x) = f(x) \\cdot g(x)$. The quotient is $(\\frac{f}{g})(x) = \\frac{f(x)}{g(x)}$, where $g(x) \\neq 0$. Domain of product is intersection of domains; domain of quotient excludes values where $g(x) = 0$.",
        
        "context": "Multiplication appears in area calculations (length × width), revenue (price × quantity), and physics (force = mass × acceleration). Division appears in rates (distance/time, cost/quantity).",
        
        "image": {
          "src": "images/unit3/multiply_divide_formula.png",
          "alt": "Formulas for multiplying and dividing functions",
          "caption": "Figure 3.10.11: Multiplication and division of functions."
        }
      },

      "worked_examples": [
        {
          "title": "Multiplying and Dividing Functions",
          
          "image": {
            "src": "images/unit3/multiply_divide_example.png",
            "alt": "Functions f(x)=x+2 and g(x)=x-3",
            "caption": "Figure 3.10.12: Find product and quotient."
          },
          
          "problem": "Given $f(x) = x + 2$ and $g(x) = x - 3$, find:<br>a) $(f \\cdot g)(x)$<br>b) $(\\frac{f}{g})(x)$<br>c) $(\\frac{g}{f})(x)$<br>d) Evaluate $(f \\cdot g)(5)$",
          
          "step_by_step": [
            {
              "step": "a) $(f \\cdot g)(x)$",
              "explanation": "Multiply the function rules",
              "calculation": "$(f \\cdot g)(x) = (x + 2)(x - 3) = x^2 - 3x + 2x - 6 = x^2 - x - 6$",
              
              "image": {
                "src": "images/unit3/multiply_step_a.png",
                "alt": "Multiplying f and g",
                "caption": "Figure 3.10.13: (f·g)(x) = x² - x - 6."
              }
            },
            {
              "step": "b) $(\\frac{f}{g})(x)$",
              "explanation": "Divide $f(x)$ by $g(x)$, note domain restrictions",
              "calculation": "$(\\frac{f}{g})(x) = \\frac{x + 2}{x - 3}$, $x \\neq 3$",
              
              "image": {
                "src": "images/unit3/divide_step_b.png",
                "alt": "Dividing f by g",
                "caption": "Figure 3.10.14: (f/g)(x) = (x+2)/(x-3), x≠3."
              }
            },
            {
              "step": "c) $(\\frac{g}{f})(x)$",
              "explanation": "Divide $g(x)$ by $f(x)$",
              "calculation": "$(\\frac{g}{f})(x) = \\frac{x - 3}{x + 2}$, $x \\neq -2$",
              
              "image": {
                "src": "images/unit3/divide_step_c.png",
                "alt": "Dividing g by f",
                "caption": "Figure 3.10.15: (g/f)(x) = (x-3)/(x+2), x≠-2."
              }
            },
            {
              "step": "d) $(f \\cdot g)(5)$",
              "explanation": "Substitute $x = 5$ into product",
              "calculation": "$(f \\cdot g)(5) = 5^2 - 5 - 6 = 25 - 5 - 6 = 14$"
            }
          ],
          
          "final_answer": "a) $(f \\cdot g)(x) = x^2 - x - 6$<br>b) $(\\frac{f}{g})(x) = \\frac{x+2}{x-3}, x \\neq 3$<br>c) $(\\frac{g}{f})(x) = \\frac{x-3}{x+2}, x \\neq -2$<br>d) $(f \\cdot g)(5) = 14$",
          "concept_applied": "Multiply using distribution; divide by writing as fraction; always note domain restrictions from denominators."
        },
        {
          "title": "Domain of Quotient Functions",
          
          "image": {
            "src": "images/unit3/divide_domain.png",
            "alt": "Functions with domain restrictions",
            "caption": "Figure 3.10.16: Find domain of quotient."
          },
          
          "problem": "Given $f(x) = \\sqrt{x+1}$ and $g(x) = x^2 - 4$, find $(\\frac{f}{g})(x)$ and its domain.",
          
          "step_by_step": [
            {
              "step": "Find domain of f",
              "explanation": "$f(x) = \\sqrt{x+1}$ requires $x+1 \\geq 0$",
              "calculation": "Domain of f: $[-1, \\infty)$"
            },
            {
              "step": "Find domain of g",
              "explanation": "$g(x) = x^2 - 4$ is defined for all real numbers",
              "calculation": "Domain of g: $(-\\infty, \\infty)$"
            },
            {
              "step": "Find where g(x) = 0",
              "explanation": "Denominator cannot be zero",
              "calculation": "$x^2 - 4 = 0$ → $x = 2$ or $x = -2$"
            },
            {
              "step": "Combine restrictions",
              "explanation": "Domain = domain of f ∩ domain of g, excluding zeros of g",
              "calculation": "Domain: $[-1, 2) \\cup (2, \\infty)$ (note -2 is not in f's domain anyway)"
            },
            {
              "step": "Write quotient",
              "explanation": "$(\\frac{f}{g})(x) = \\frac{\\sqrt{x+1}}{x^2 - 4}$",
              "calculation": "Valid for domain found"
            }
          ],
          
          "final_answer": "$(\\frac{f}{g})(x) = \\frac{\\sqrt{x+1}}{x^2 - 4}$, domain: $[-1,2) \\cup (2,\\infty)$",
          "concept_applied": "Quotient domain = intersection of individual domains, excluding values where denominator = 0."
        }
      ],

      "image": {
        "src": "images/unit3/multiply_divide_summary.png",
        "alt": "Summary of multiplying and dividing functions",
        "caption": "Figure 3.10.17: Multiplication and division summary."
      }
    },

    {
      "section_title": "3.10.3 Function Composition",
      
      "introduction": "Function composition applies one function to the output of another—a powerful way to create new functions.",
      
      "introduction_image": {
        "src": "images/unit3/composition_intro.png",
        "alt": "Two function machines in series: output of first becomes input to second",
        "caption": "Figure 3.10.18: Function composition: f(g(x))."
      },
      
      "key_concept": {
        "definition": "The composition of $f$ with $g$, written $f \\circ g$, is defined as $(f \\circ g)(x) = f(g(x))$. This means: first apply $g$ to $x$, then apply $f$ to the result. The domain consists of all $x$ in the domain of $g$ such that $g(x)$ is in the domain of $f$.",
        
        "context": "Composition models processes where the output of one step becomes input to the next: temperature conversion, currency exchange, multi-step manufacturing, and many real-world chains of operations.",
        
        "image": {
          "src": "images/unit3/composition_diagram.png",
          "alt": "Diagram: x → g → g(x) → f → f(g(x))",
          "caption": "Figure 3.10.19: How composition works."
        }
      },

      "worked_examples": [
        {
          "title": "Basic Function Composition",
          
          "image": {
            "src": "images/unit3/composition_example1.png",
            "alt": "Functions f(x)=2x+1 and g(x)=x²",
            "caption": "Figure 3.10.20: Find compositions."
          },
          
          "problem": "Given $f(x) = 2x + 1$ and $g(x) = x^2$, find:<br>a) $(f \\circ g)(x)$<br>b) $(g \\circ f)(x)$<br>c) $(f \\circ f)(x)$<br>d) $(f \\circ g)(3)$",
          
          "step_by_step": [
            {
              "step": "a) $(f \\circ g)(x)$",
              "explanation": "Apply $g$ first, then $f$: $f(g(x))$",
              "calculation": "$f(g(x)) = f(x^2) = 2(x^2) + 1 = 2x^2 + 1$",
              
              "image": {
                "src": "images/unit3/composition_fg.png",
                "alt": "f composed with g",
                "caption": "Figure 3.10.21: (f∘g)(x) = 2x² + 1."
              }
            },
            {
              "step": "b) $(g \\circ f)(x)$",
              "explanation": "Apply $f$ first, then $g$: $g(f(x))$",
              "calculation": "$g(f(x)) = g(2x + 1) = (2x + 1)^2 = 4x^2 + 4x + 1$",
              
              "image": {
                "src": "images/unit3/composition_gf.png",
                "alt": "g composed with f",
                "caption": "Figure 3.10.22: (g∘f)(x) = 4x² + 4x + 1."
              }
            },
            {
              "step": "c) $(f \\circ f)(x)$",
              "explanation": "Apply $f$ twice",
              "calculation": "$f(f(x)) = f(2x + 1) = 2(2x + 1) + 1 = 4x + 2 + 1 = 4x + 3$",
              
              "image": {
                "src": "images/unit3/composition_ff.png",
                "alt": "f composed with itself",
                "caption": "Figure 3.10.23: (f∘f)(x) = 4x + 3."
              }
            },
            {
              "step": "d) $(f \\circ g)(3)$",
              "explanation": "Substitute $x = 3$ into $(f \\circ g)(x)$",
              "calculation": "$(f \\circ g)(3) = 2(3^2) + 1 = 2(9) + 1 = 18 + 1 = 19$"
            }
          ],
          
          "final_answer": "a) $(f \\circ g)(x) = 2x^2 + 1$<br>b) $(g \\circ f)(x) = 4x^2 + 4x + 1$<br>c) $(f \\circ f)(x) = 4x + 3$<br>d) $(f \\circ g)(3) = 19$",
          "concept_applied": "Composition order matters: $f \\circ g$ is usually different from $g \\circ f$."
        },
        {
          "title": "Composition with Domain Restrictions",
          
          "image": {
            "src": "images/unit3/composition_domain.png",
            "alt": "Functions with restricted domains",
            "caption": "Figure 3.10.24: Find composition and domain."
          },
          
          "problem": "Given $f(x) = \\sqrt{x}$ and $g(x) = x - 3$, find $(f \\circ g)(x)$ and its domain.",
          
          "step_by_step": [
            {
              "step": "Find composition",
              "explanation": "$(f \\circ g)(x) = f(g(x)) = f(x - 3) = \\sqrt{x - 3}$",
              "calculation": "$(f \\circ g)(x) = \\sqrt{x - 3}$"
            },
            {
              "step": "Determine domain",
              "explanation": "For $\\sqrt{x - 3}$ to be defined, $x - 3 \\geq 0$",
              "calculation": "$x \\geq 3$"
            },
            {
              "step": "Check domain of inner function",
              "explanation": "$g(x) = x - 3$ has domain all reals, so no additional restriction",
              "calculation": "Domain: $[3, \\infty)$"
            }
          ],
          
          "final_answer": "$(f \\circ g)(x) = \\sqrt{x - 3}$, domain: $[3, \\infty)$",
          "concept_applied": "Domain of composition requires that $x$ be in domain of $g$, and $g(x)$ be in domain of $f$."
        },
        {
          "title": "Real-World Composition",
          
          "image": {
            "src": "images/unit3/composition_realworld.png",
            "alt": "Currency conversion: dollars to euros to yen",
            "caption": "Figure 3.10.25: Composition in currency exchange."
          },
          
          "problem": "A currency exchange converts dollars to euros at $E(d) = 0.85d$, then euros to yen at $Y(e) = 130e$. Find a function that converts dollars directly to yen, and find how many yen you get for $\\$200$.",
          
          "step_by_step": [
            {
              "step": "Compose the functions",
              "explanation": "$(Y \\circ E)(d) = Y(E(d))$",
              "calculation": "$Y(E(d)) = Y(0.85d) = 130(0.85d) = 110.5d$"
            },
            {
              "step": "Interpret result",
              "explanation": "$(Y \\circ E)(d) = 110.5d$ means each dollar converts to 110.5 yen directly",
              "calculation": "Function: $C(d) = 110.5d$"
            },
            {
              "step": "Evaluate for $\\$200$",
              "explanation": "$C(200) = 110.5 \\times 200$",
              "calculation": "$C(200) = 22,100$ yen"
            }
          ],
          
          "final_answer": "$C(d) = 110.5d$; $\\$200 = 22,100$ yen",
          "concept_applied": "Real-world chains of processes are modeled by function composition."
        }
      ],

      "process_flow": [
        {
          "step": 1,
          "process": "Identify Inner and Outer Functions",
          "description": "In $(f \\circ g)(x)$, $g$ is the inner function (applied first), $f$ is the outer (applied second).",
          "mechanism": "Read composition from right to left: $(f \\circ g)(x)$ means $f(g(x))$ - start with $g$, then $f$.",
          "result": "Clear understanding of order.",
          
          "image": {
            "src": "images/unit3/composition_step1.png",
            "alt": "f∘g(x): g inner, f outer",
            "caption": "Figure 3.10.26: Step 1 - Identify order."
          }
        },
        {
          "step": 2,
          "process": "Apply Inner Function",
          "description": "Replace the input of the outer function with the expression for the inner function.",
          "mechanism": "Write $f(g(x))$, then substitute the rule for $g(x)$.",
          "result": "Expression with $g(x)$ inside $f$.",
          
          "image": {
            "src": "images/unit3/composition_step2.png",
            "alt": "f(g(x)) with g(x) replaced",
            "caption": "Figure 3.10.27: Step 2 - Apply inner function."
          }
        },
        {
          "step": 3,
          "process": "Apply Outer Function",
          "description": "Use the rule for $f$, treating the entire $g(x)$ as the input.",
          "mechanism": "Substitute $g(x)$ wherever $x$ appears in $f$'s rule.",
          "result": "Simplified expression for $(f \\circ g)(x)$.",
          
          "image": {
            "src": "images/unit3/composition_step3.png",
            "alt": "Applying f to g(x)",
            "caption": "Figure 3.10.28: Step 3 - Apply outer function."
          }
        },
        {
          "step": 4,
          "process": "Determine Domain",
          "description": "Find all $x$ such that $x$ is in domain of $g$ AND $g(x)$ is in domain of $f$.",
          "mechanism": "Check restrictions from both functions.",
          "result": "Domain of composition.",
          
          "image": {
            "src": "images/unit3/composition_step4.png",
            "alt": "Domain intersection for composition",
            "caption": "Figure 3.10.29: Step 4 - Find domain."
          }
        }
      ],

      "image": {
        "src": "images/unit3/composition_summary.png",
        "alt": "Summary of function composition",
        "caption": "Figure 3.10.30: Composition summary."
      }
    },

    {
      "section_title": "3.10.4 Composition with Tables and Graphs",
      
      "introduction": "Composition can also be evaluated using tables of values or graphs, without explicit formulas.",
      
      "introduction_image": {
        "src": "images/unit3/composition_table_intro.png",
        "alt": "Tables of values for functions",
        "caption": "Figure 3.10.31: Using tables for composition."
      },
      
      "key_concept": {
        "definition": "When functions are given as tables or graphs, evaluate composition step by step: find the inner function's output first, then use that as input to the outer function.",
        
        "context": "This skill is essential when working with real data where functions are not given by formulas, only as discrete points.",
        
        "image": {
          "src": "images/unit3/composition_table_diagram.png",
          "alt": "Reading from table: find g(2), then f(g(2))",
          "caption": "Figure 3.10.32: Evaluating composition from tables."
        }
      },

      "worked_examples": [
        {
          "title": "Composition Using Tables",
          
          "image": {
            "src": "images/unit3/composition_table.png",
            "alt": "Tables for f and g",
            "caption": "Figure 3.10.33: Use tables to find compositions."
          },
          
          "problem": "Use the tables to find:<br>a) $(f \\circ g)(2)$<br>b) $(g \\circ f)(3)$<br>c) $(f \\circ f)(1)$<br><br>Table for f:<br>x | f(x)<br>1 | 4<br>2 | 3<br>3 | 5<br>4 | 2<br><br>Table for g:<br>x | g(x)<br>1 | 3<br>2 | 1<br>3 | 4<br>4 | 2",
          
          "step_by_step": [
            {
              "step": "a) $(f \\circ g)(2)$",
              "explanation": "First find $g(2)$ from table: $g(2) = 1$",
              "calculation": "Then find $f(1)$: $f(1) = 4$, so $(f \\circ g)(2) = 4$",
              
              "image": {
                "src": "images/unit3/composition_table_a.png",
                "alt": "Finding f(g(2)) = f(1) = 4",
                "caption": "Figure 3.10.34: (f∘g)(2) = 4."
              }
            },
            {
              "step": "b) $(g \\circ f)(3)$",
              "explanation": "First find $f(3)$ from table: $f(3) = 5$",
              "calculation": "Then find $g(5)$: 5 is not in the table for g! This composition is undefined.",
              
              "image": {
                "src": "images/unit3/composition_table_b.png",
                "alt": "f(3)=5, but g(5) undefined",
                "caption": "Figure 3.10.35: (g∘f)(3) undefined."
              }
            },
            {
              "step": "c) $(f \\circ f)(1)$",
              "explanation": "First find $f(1) = 4$",
              "calculation": "Then find $f(4) = 2$, so $(f \\circ f)(1) = 2$",
              
              "image": {
                "src": "images/unit3/composition_table_c.png",
                "alt": "f(f(1)) = f(4) = 2",
                "caption": "Figure 3.10.36: (f∘f)(1) = 2."
              }
            }
          ],
          
          "final_answer": "a) $(f \\circ g)(2) = 4$<br>b) $(g \\circ f)(3)$ undefined<br>c) $(f \\circ f)(1) = 2$",
          "concept_applied": "With tables, work step by step: inner function first, then outer. Composition may be undefined if intermediate value not in outer function's domain."
        },
        {
          "title": "Composition Using Graphs",
          
          "image": {
            "src": "images/unit3/composition_graph.png",
            "alt": "Graphs of f and g",
            "caption": "Figure 3.10.37: Use graphs to find compositions."
          },
          
          "problem": "Using the graphs in Figure 3.10.37, find:<br>a) $(f \\circ g)(2)$<br>b) $(g \\circ f)(0)$",
          
          "step_by_step": [
            {
              "step": "a) $(f \\circ g)(2)$",
              "explanation": "First find $g(2)$ from graph: at $x=2$, $g(2) = 3$",
              "calculation": "Then find $f(3)$: at $x=3$, $f(3) = 1$, so $(f \\circ g)(2) = 1$",
              
              "image": {
                "src": "images/unit3/composition_graph_a.png",
                "alt": "Finding f(g(2)) from graphs",
                "caption": "Figure 3.10.38: (f∘g)(2) = 1."
              }
            },
            {
              "step": "b) $(g \\circ f)(0)$",
              "explanation": "First find $f(0)$: at $x=0$, $f(0) = 2$",
              "calculation": "Then find $g(2)$: at $x=2$, $g(2) = 3$, so $(g \\circ f)(0) = 3$",
              
              "image": {
                "src": "images/unit3/composition_graph_b.png",
                "alt": "Finding g(f(0)) from graphs",
                "caption": "Figure 3.10.39: (g∘f)(0) = 3."
              }
            }
          ],
          
          "final_answer": "a) $(f \\circ g)(2) = 1$<br>b) $(g \\circ f)(0) = 3$",
          "concept_applied": "From graphs, read y-values carefully: first from inner function graph, then from outer."
        }
      ],

      "image": {
        "src": "images/unit3/composition_table_graph_summary.png",
        "alt": "Summary of composition using tables and graphs",
        "caption": "Figure 3.10.40: Table and graph composition summary."
      }
    },

    {
      "section_title": "3.10.5 Decomposing Functions",
      
      "introduction": "Sometimes we need to reverse composition—express a complex function as the composition of simpler functions.",
      
      "introduction_image": {
        "src": "images/unit3/decomposition_intro.png",
        "alt": "Breaking a complex function into simpler pieces",
        "caption": "Figure 3.10.41: Function decomposition."
      },
      
      "key_concept": {
        "definition": "Decomposing a function means finding two (or more) functions whose composition equals the given function. For $h(x) = (2x+1)^2$, we could have $f(x) = x^2$ and $g(x) = 2x+1$, so $h = f \\circ g$.",
        
        "context": "Decomposition helps in calculus (chain rule), in understanding complex processes, and in solving equations. There are often multiple valid decompositions.",
        
        "image": {
          "src": "images/unit3/decomposition_diagram.png",
          "alt": "h(x) broken into g then f",
          "caption": "Figure 3.10.42: h = f ∘ g."
        }
      },

      "worked_examples": [
        {
          "title": "Decomposing Functions",
          
          "image": {
            "src": "images/unit3/decomposition_example.png",
            "alt": "Functions to decompose",
            "caption": "Figure 3.10.43: Find inner and outer functions."
          },
          
          "problem": "Find two functions $f$ and $g$ such that $h = f \\circ g$ for each:<br>a) $h(x) = (3x - 5)^3$<br>b) $h(x) = \\sqrt{x^2 + 4}$<br>c) $h(x) = \\frac{1}{2x+7}$<br>d) $h(x) = |x - 3| + 2$",
          
          "step_by_step": [
            {
              "step": "a) $h(x) = (3x - 5)^3$",
              "explanation": "The last operation is cubing; inside is $3x-5$",
              "calculation": "Let $g(x) = 3x - 5$, $f(x) = x^3$. Then $(f \\circ g)(x) = (3x-5)^3 = h(x)$"
            },
            {
              "step": "b) $h(x) = \\sqrt{x^2 + 4}$",
              "explanation": "Last operation is square root; inside is $x^2+4$",
              "calculation": "Let $g(x) = x^2 + 4$, $f(x) = \\sqrt{x}$. Then $(f \\circ g)(x) = \\sqrt{x^2+4} = h(x)$"
            },
            {
              "step": "c) $h(x) = \\frac{1}{2x+7}$",
              "explanation": "Last operation is reciprocal; inside is $2x+7$",
              "calculation": "Let $g(x) = 2x+7$, $f(x) = \\frac{1}{x}$. Then $(f \\circ g)(x) = \\frac{1}{2x+7} = h(x)$"
            },
            {
              "step": "d) $h(x) = |x - 3| + 2$",
              "explanation": "Last operation is adding 2; inside is $|x-3|$",
              "calculation": "Let $g(x) = |x - 3|$, $f(x) = x + 2$. Then $(f \\circ g)(x) = |x-3| + 2 = h(x)$"
            }
          ],
          
          "final_answer": "a) $g(x)=3x-5$, $f(x)=x^3$<br>b) $g(x)=x^2+4$, $f(x)=\\sqrt{x}$<br>c) $g(x)=2x+7$, $f(x)=\\frac{1}{x}$<br>d) $g(x)=|x-3|$, $f(x)=x+2$",
          "concept_applied": "Identify the last operation (outer function) and the expression it acts on (inner function)."
        }
      ],

      "image": {
        "src": "images/unit3/decomposition_summary.png",
        "alt": "Summary of function decomposition",
        "caption": "Figure 3.10.44: Decomposition summary."
      }
    },

    {
      "section_title": "3.10.6 Real-World Applications of Function Operations",
      
      "introduction": "Function operations model real-world situations where quantities combine, change, or depend on each other in sequence.",
      
      "introduction_image": {
        "src": "images/unit3/operations_realworld_intro.png",
        "alt": "Real-world applications: business, science, engineering",
        "caption": "Figure 3.10.45: Function operations in real life."
      },
      
      "categories": [
        {
          "type": "Business Applications",
          "description": "Cost, revenue, and profit use addition/subtraction. Total cost may be sum of fixed and variable costs.",
          
          "image": {
            "src": "images/unit3/operations_business.png",
            "alt": "Cost and revenue functions",
            "caption": "Figure 3.10.46: Business applications."
          },
          
          "examples": [
            {
              "process": "Fixed cost $C_f(x)=500$, variable cost $C_v(x)=20x$",
              "explanation": "Total cost $C(x) = C_f(x) + C_v(x) = 20x + 500$"
            },
            {
              "process": "Profit = Revenue - Cost",
              "explanation": "$P(x) = R(x) - C(x)$"
            }
          ]
        },
        {
          "type": "Science Applications",
          "description": "Composition appears in multi-step processes and unit conversions.",
          
          "image": {
            "src": "images/unit3/operations_science.png",
            "alt": "Temperature conversion as composition",
            "caption": "Figure 3.10.47: Science applications."
          },
          
          "examples": [
            {
              "process": "Celsius to Fahrenheit: $F(C) = \\frac{9}{5}C + 32$",
              "explanation": "If temperature changes over time $C(t)$, then $F(t) = F(C(t))$ is composition"
            }
          ]
        }
      ],

      "worked_examples": [
        {
          "title": "Business Application: Total Cost",
          
          "image": {
            "src": "images/unit3/operations_cost.png",
            "alt": "Manufacturing cost problem",
            "caption": "Figure 3.10.48: Find total cost function."
          },
          
          "problem": "A company has fixed costs of $\\$5,000$ per month and variable costs of $\\$30$ per unit. The number of units produced depends on the number of workers: $U(w) = 40w$, where $w$ is the number of workers. Find total cost as a function of workers, and find the cost for 20 workers.",
          
          "step_by_step": [
            {
              "step": "Write cost per unit function",
              "explanation": "Cost per unit is fixed + variable: $C(u) = 30u + 5000$",
              "calculation": "$C(u) = 30u + 5000$"
            },
            {
              "step": "Units as function of workers",
              "explanation": "$U(w) = 40w$",
              "calculation": "$U(w) = 40w$"
            },
            {
              "step": "Compose to get cost in terms of workers",
              "explanation": "$C(w) = C(U(w))$",
              "calculation": "$C(w) = 30(40w) + 5000 = 1200w + 5000$"
            },
            {
              "step": "Evaluate for 20 workers",
              "explanation": "$C(20) = 1200(20) + 5000$",
              "calculation": "$C(20) = 24,000 + 5000 = 29,000$ dollars"
            }
          ],
          
          "final_answer": "$C(w) = 1200w + 5000$; cost for 20 workers = $\\$29,000$",
          "concept_applied": "Real-world problems often require composing functions to express one quantity in terms of another."
        },
        {
          "title": "Temperature and Time",
          
          "image": {
            "src": "images/unit3/operations_temperature.png",
            "alt": "Temperature over time in Celsius, convert to Fahrenheit",
            "caption": "Figure 3.10.49: Temperature conversion over time."
          },
          
          "problem": "The temperature in a room over time is given by $C(t) = 20 + 5\\sin(\\frac{\\pi}{12}t)$ degrees Celsius, where $t$ is hours since midnight. Convert this to a Fahrenheit function $F(t)$ using $F(C) = \\frac{9}{5}C + 32$.",
          
          "step_by_step": [
            {
              "step": "Write composition",
              "explanation": "$F(t) = F(C(t))$",
              "calculation": "$F(t) = \\frac{9}{5}(20 + 5\\sin(\\frac{\\pi}{12}t)) + 32$"
            },
            {
              "step": "Simplify",
              "explanation": "Distribute the $\\frac{9}{5}$",
              "calculation": "$F(t) = \\frac{9}{5} \\times 20 + \\frac{9}{5} \\times 5\\sin(\\frac{\\pi}{12}t) + 32$"
            },
            {
              "step": "Continue simplification",
              "explanation": "$\\frac{9}{5} \\times 20 = 36$, $\\frac{9}{5} \\times 5 = 9$",
              "calculation": "$F(t) = 36 + 9\\sin(\\frac{\\pi}{12}t) + 32 = 68 + 9\\sin(\\frac{\\pi}{12}t)$"
            }
          ],
          
          "final_answer": "$F(t) = 68 + 9\\sin(\\frac{\\pi}{12}t)$ degrees Fahrenheit",
          "concept_applied": "Composition allows conversion of entire functions, not just single values."
        }
      ],

      "image": {
        "src": "images/unit3/operations_realworld_summary.png",
        "alt": "Summary of real-world function operations applications",
        "caption": "Figure 3.10.50: Real-world applications summary."
      }
    },

    {
      "section_title": "3.10.7 Common Errors and How to Avoid Them",
      
      "introduction": "Students often make specific mistakes when performing function operations. Awareness helps prevent these errors.",
      
      "classifications": [
        {
          "type": "Composition Order Confusion",
          "value": "Mixing up $f \\circ g$ and $g \\circ f$.",
          "characteristics": [
            "Thinking $f \\circ g$ means apply $f$ first",
            "Not reading composition notation correctly"
          ],
          "behavior": "Gets opposite composition.",
          
          "image": {
            "src": "images/unit3/error_composition_order.png",
            "alt": "Correct vs incorrect composition order",
            "caption": "Figure 3.10.51: Error - wrong composition order."
          },
          
          "examples": [
            {
              "process": "Error: For $f(x)=x^2$, $g(x)=x+1$, saying $(f \\circ g)(x) = (x+1)^2$? Actually that's correct. Need better example: Error: Thinking $(f \\circ g)(x)$ means $f(x) \\cdot g(x)$",
              "explanation": "Correct: $(f \\circ g)(x) = f(g(x))$ - apply $g$ first, then $f$"
            }
          ]
        },
        {
          "type": "Domain Neglect",
          "value": "Forgetting to consider domain restrictions in sums, products, quotients, and compositions.",
          "characteristics": [
            "Not excluding denominator zeros",
            "Not checking that inner function outputs are in outer function's domain"
          ],
          "behavior": "Answers include invalid inputs.",
          
          "image": {
            "src": "images/unit3/error_domain.png",
            "alt": "Domain restrictions ignored",
            "caption": "Figure 3.10.52: Error - forgetting domain."
          },
          
          "examples": [
            {
              "process": "Error: For $(f/g)(x)$ with $g(x)=x-2$, not stating $x \\neq 2$",
              "explanation": "Correct: Always state domain restrictions, especially for division"
            }
          ]
        },
        {
          "type": "Distribution Errors",
          "value": "Incorrectly distributing when adding or multiplying functions.",
          "characteristics": [
            "Forgetting to distribute negative signs in subtraction",
            "Incorrect multiplication of binomials"
          ],
          "behavior": "Algebraic errors in combined function.",
          
          "image": {
            "src": "images/unit3/error_distribution.png",
            "alt": "Correct vs incorrect distribution",
            "caption": "Figure 3.10.53: Error - distribution mistakes."
          },
          
          "examples": [
            {
              "process": "Error: $(f - g)(x) = f(x) - g(x)$ but then writing $f(x) - g(x)$ without distributing negative to all terms of $g$",
              "explanation": "Correct: Subtract the entire $g(x)$, so $(2x+3) - (x^2-1) = 2x+3 - x^2 + 1$"
            }
          ]
        }
      ],

      "worked_examples": [
        {
          "title": "Correcting Function Operation Errors",
          
          "image": {
            "src": "images/unit3/error_operations.png",
            "alt": "Student work with errors",
            "caption": "Figure 3.10.54: Find and correct errors."
          },
          
          "problem": "A student wrote: 'For $f(x)=x^2$ and $g(x)=x-3$, $(f \\circ g)(x) = x^2 - 3$ and $(f/g)(x) = \\frac{x^2}{x-3}$ with domain all real numbers except $x=3$.' Identify and correct any errors.",
          
          "step_by_step": [
            {
              "step": "Check $(f \\circ g)(x)$",
              "explanation": "Student wrote $f(g(x)) = x^2 - 3$, but correct is $(x-3)^2$",
              "calculation": "Correct: $(f \\circ g)(x) = (x-3)^2 = x^2 - 6x + 9$"
            },
            {
              "step": "Check $(f/g)(x)$",
              "explanation": "Student correctly wrote $\\frac{x^2}{x-3}$ with $x \\neq 3$",
              "calculation": "This part is correct"
            },
            {
              "step": "Domain for quotient",
              "explanation": "Student correctly noted $x \\neq 3$, but also need to consider any restrictions from $f$? $f(x)=x^2$ has domain all reals, so fine.",
              "calculation": "Domain: $(-\\infty, 3) \\cup (3, \\infty)$ is correct"
            }
          ],
          
          "final_answer": "Correct: $(f \\circ g)(x) = (x-3)^2 = x^2 - 6x + 9$. Quotient part was correct.",
          "concept_applied": "Composition requires substituting entire $g(x)$ into $f$, not just the variable. Domain for quotient is correct."
        }
      ],

      "image": {
        "src": "images/unit3/operations_errors_summary.png",
        "alt": "Summary table of common function operation errors and corrections",
        "caption": "Figure 3.10.55: Common errors summary."
      }
    },

    {
      "section_title": "3.10.8 Practice with Function Operations",
      
      "introduction": "Apply your knowledge of function operations to a variety of problems.",
      
      "worked_examples": [
        {
          "title": "Mixed Practice Set",
          
          "image": {
            "src": "images/unit3/operations_practice.png",
            "alt": "Multiple practice problems",
            "caption": "Figure 3.10.56: Practice problems."
          },
          
          "problem": "1) Given $f(x) = 2x - 1$ and $g(x) = x^2 + 3$, find:<br>a) $(f + g)(x)$<br>b) $(f - g)(x)$<br>c) $(f \\cdot g)(x)$<br>d) $(\\frac{f}{g})(x)$ and its domain<br><br>2) Given $f(x) = \\sqrt{x+2}$ and $g(x) = x - 4$, find $(f \\circ g)(x)$ and its domain.<br><br>3) Given $h(x) = \\frac{1}{x-1}$, decompose into $f \\circ g$ with $g$ linear.<br><br>4) From tables: f(1)=3, f(2)=5, f(3)=1; g(1)=2, g(2)=3, g(3)=4. Find $(f \\circ g)(2)$ and $(g \\circ f)(3)$ if possible.",
          
          "step_by_step": [
            {
              "step": "1a) $(f + g)(x)$",
              "explanation": "$(2x-1) + (x^2+3)$",
              "calculation": "$x^2 + 2x + 2$"
            },
            {
              "step": "1b) $(f - g)(x)$",
              "explanation": "$(2x-1) - (x^2+3)$",
              "calculation": "$2x - 1 - x^2 - 3 = -x^2 + 2x - 4$"
            },
            {
              "step": "1c) $(f \\cdot g)(x)$",
              "explanation": "$(2x-1)(x^2+3)$",
              "calculation": "$2x^3 + 6x - x^2 - 3 = 2x^3 - x^2 + 6x - 3$"
            },
            {
              "step": "1d) $(\\frac{f}{g})(x)$",
              "explanation": "$\\frac{2x-1}{x^2+3}$",
              "calculation": "Domain: all real numbers since denominator $x^2+3 > 0$ for all x"
            },
            {
              "step": "2) $(f \\circ g)(x)$",
              "explanation": "$f(g(x)) = f(x-4) = \\sqrt{(x-4)+2} = \\sqrt{x-2}$",
              "calculation": "Domain: $x-2 \\geq 0$ → $x \\geq 2$"
            },
            {
              "step": "3) Decompose $h(x) = \\frac{1}{x-1}$",
              "explanation": "Last operation is reciprocal, inside is $x-1$",
              "calculation": "Let $g(x) = x-1$, $f(x) = \\frac{1}{x}$"
            },
            {
              "step": "4) Table compositions",
              "explanation": "$(f \\circ g)(2)$: first $g(2)=3$, then $f(3)=1$",
              "calculation": "$(f \\circ g)(2) = 1$<br>$(g \\circ f)(3)$: first $f(3)=1$, then $g(1)=2$, so $(g \\circ f)(3) = 2$"
            }
          ],
          
          "final_answer": "1a) $x^2+2x+2$<br>1b) $-x^2+2x-4$<br>1c) $2x^3 - x^2 + 6x - 3$<br>1d) $\\frac{2x-1}{x^2+3}$, domain all reals<br>2) $(f \\circ g)(x) = \\sqrt{x-2}$, domain $[2,\\infty)$<br>3) $g(x)=x-1$, $f(x)=\\frac{1}{x}$<br>4) $(f \\circ g)(2)=1$, $(g \\circ f)(3)=2$",
          "concept_applied": "Practice with all function operations builds fluency."
        }
      ],

      "image": {
        "src": "images/unit3/operations_practice_solutions.png",
        "alt": "Complete solutions to practice problems",
        "caption": "Figure 3.10.57: Practice solutions."
      }
    }
  ],

  "key_terms": [
    "Function Addition",
    "Function Subtraction",
    "Function Multiplication",
    "Function Division",
    "Function Composition",
    "$f \\circ g$",
    "Inner Function",
    "Outer Function",
    "Domain",
    "Intersection",
    "Decomposition",
    "Combined Function",
    "Difference Quotient (preview)"
  ],

  "summary": "Function operations allow us to combine functions to create new ones. Addition $(f+g)(x) = f(x) + g(x)$, subtraction $(f-g)(x) = f(x) - g(x)$, multiplication $(f \\cdot g)(x) = f(x) \\cdot g(x)$, and division $(\\frac{f}{g})(x) = \\frac{f(x)}{g(x)}$ (where $g(x) \\neq 0$) all combine outputs pointwise. The domain of the combined function is the intersection of the individual domains, with additional restrictions for division where denominator = 0. Function composition $(f \\circ g)(x) = f(g(x))$ applies $g$ first, then $f$ to the result. Composition order matters—$f \\circ g$ is generally different from $g \\circ f$. The domain of composition includes all $x$ in domain of $g$ such that $g(x)$ is in domain of $f$. Decomposition reverses composition, breaking a complex function into simpler inner and outer functions. Function operations model real-world situations: addition for total cost, multiplication for area, composition for multi-step processes. Mastery of these operations is essential for calculus, advanced mathematics, and modeling complex relationships.",

  "review_questions_image": {
    "src": "images/unit3/function_operations_summary.png",
    "alt": "Comprehensive summary: addition, subtraction, multiplication, division, composition, decomposition",
    "caption": "Figure 3.10.58: Function operations summary."
  }
}
