{
  "expanded_description": "Geometric transformations are at the heart of computer graphics, robotics, and computer vision. While Section 14.7 introduced linear transformations (scaling, rotation, shear, reflection) using 2×2 matrices, those matrices alone cannot handle translation—moving an object to a different location. To include translation, we upgrade to homogeneous coordinates, representing a 2D point as a 3‑element vector and using 3×3 transformation matrices. This unified framework allows any combination of translations, rotations, scaling, and other affine transformations to be represented as a single matrix multiplication. In this section, you will learn how to build these matrices, how to combine them in the correct order, and how to apply them to points and shapes. These skills are essential for anyone working with computer graphics, game development, or geometric modeling.",
  
  "core_concept": {
    "principle": "In homogeneous coordinates, a 2D point $(x,y)$ is represented as a 3‑element vector $\\begin{bmatrix}x\\\\y\\\\1\\end{bmatrix}$. All affine transformations (translation, scaling, rotation, shear, reflection) can be represented as $3 \\times 3$ matrices. A transformation is applied by matrix‑vector multiplication, and multiple transformations are combined by multiplying their matrices in the order of application (right to left).",
    "explanation": "Adding a third coordinate (the 'homogeneous' coordinate) that is always 1 for points allows translation to be expressed as a linear operation. The $3 \\times 3$ transformation matrix has a block structure: the top‑left $2 \\times 2$ part handles the linear part (scaling, rotation, shear, reflection), the top‑right $2 \\times 1$ column handles translation, and the bottom row is $[0\\ 0\\ 1]$ to keep the homogeneous coordinate 1 after transformation. This uniform representation means that any sequence of affine transformations can be collapsed into a single matrix, which is then efficiently applied to every point of an object."
  },

  "sections": [
    {
      "section_title": "Homogeneous Coordinates – The Key to Translation",
      "introduction": "To move an object without deforming it (translation), we need a way to add constants to coordinates. Ordinary $2 \\times 2$ matrices cannot do this because they always map the origin to itself. Homogeneous coordinates solve this problem by adding an extra dimension.",
      
      "key_concept": {
        "definition": "A point $(x,y)$ in 2D is represented in homogeneous coordinates as a 3‑component vector $\\begin{bmatrix}x\\\\y\\\\1\\end{bmatrix}$. A vector (direction) is represented as $\\begin{bmatrix}x\\\\y\\\\0\\end{bmatrix}$. After a transformation, we usually divide by the third coordinate to return to Cartesian coordinates; for affine transformations, the third coordinate remains 1.",
        "context": "The extra coordinate allows translation to be expressed as a linear operation. Instead of $x' = x + t_x$, we have $\\begin{bmatrix}x'\\\\y'\\\\1\\end{bmatrix} = \\begin{bmatrix}1 & 0 & t_x\\\\0 & 1 & t_y\\\\0 & 0 & 1\\end{bmatrix}\\begin{bmatrix}x\\\\y\\\\1\\end{bmatrix}$. The $2 \\times 2$ identity matrix in the top‑left leaves $x$ and $y$ unchanged, and the third column adds the translation amounts. This trick generalizes to 3D using $4 \\times 4$ matrices."
      },
      
      "classifications": [
        {
          "type": "From Cartesian to Homogeneous and Back",
          "value": "Always remember to append a 1 for points; after transformation, you may need to divide by the homogeneous coordinate if it is not 1 (for perspective transformations, but for affine it stays 1).",
          "characteristics": [
            "Point $(x,y)$ → $\\begin{bmatrix}x\\\\y\\\\1\\end{bmatrix}$",
            "Vector $\\begin{bmatrix}v_x\\\\v_y\\end{bmatrix}$ → $\\begin{bmatrix}v_x\\\\v_y\\\\0\\end{bmatrix}$ (translation does not affect vectors)",
            "After transformation, if the third coordinate $w \\neq 1$, convert back by $(x',y') = (x'/w, y'/w)$"
          ],
          "behavior": "When applying a transformation matrix $M$ to a point $\\mathbf{p}_h$, compute $M\\mathbf{p}_h$. The result is another homogeneous point; if its third coordinate is not 1, divide all three components by it to normalize. For affine transformations (the kind in this section), the third coordinate will always remain 1, so no division is needed.",
          "examples": [
            {
              "process": "Convert point (3,5) to homogeneous",
              "explanation": "$\\begin{bmatrix}3\\\\5\\\\1\\end{bmatrix}$."
            }
          ]
        }
      ]
    },

    {
      "section_title": "Transformation Matrices in Homogeneous Coordinates",
      "introduction": "Every basic affine transformation has a standard $3 \\times 3$ matrix form. Memorizing these building blocks lets you construct complex transformations.",
      
      "key_concept": {
        "definition": "The general form of a $3 \\times 3$ affine transformation matrix is $\\begin{bmatrix}a & b & t_x\\\\c & d & t_y\\\\0 & 0 & 1\\end{bmatrix}$, where the top‑left $2 \\times 2$ block handles linear transformations (scaling, rotation, shear, reflection) and the last column handles translation.",
        "context": "These matrices operate on homogeneous points. By setting the bottom row to $[0\\ 0\\ 1]$, we guarantee that the resulting homogeneous coordinate remains 1, so we don't need to divide afterward. This property defines an affine transformation: it preserves parallelism and ratios of distances along lines."
      },
      
      "classifications": [
        {
          "type": "Translation",
          "value": "$T(t_x, t_y) = \\begin{bmatrix}1 & 0 & t_x\\\\0 & 1 & t_y\\\\0 & 0 & 1\\end{bmatrix}$",
          "characteristics": [
            "Moves a point by adding $t_x$ to $x$ and $t_y$ to $y$.",
            "Determinant = 1 (preserves area and orientation).",
            "Identity when $t_x = t_y = 0$."
          ],
          "examples": [
            {
              "process": "Translate (2,3) by (4,−1)",
              "explanation": "$\\begin{bmatrix}1&0&4\\\\0&1&-1\\\\0&0&1\\end{bmatrix}\\begin{bmatrix}2\\\\3\\\\1\\end{bmatrix} = \\begin{bmatrix}2+4\\\\3-1\\\\1\\end{bmatrix} = \\begin{bmatrix}6\\\\2\\\\1\\end{bmatrix}$, point (6,2)."
            }
          ]
        },
        {
          "type": "Scaling (about origin)",
          "value": "$S(s_x, s_y) = \\begin{bmatrix}s_x & 0 & 0\\\\0 & s_y & 0\\\\0 & 0 & 1\\end{bmatrix}$",
          "characteristics": [
            "Scales x‑coordinates by $s_x$, y‑coordinates by $s_y$.",
            "Determinant = $s_x s_y$ (area scaling factor).",
            "To scale about an arbitrary point, translate that point to origin, scale, then translate back."
          ],
          "examples": [
            {
              "process": "Scale point (2,3) by factor 2 in x and 0.5 in y",
              "explanation": "$\\begin{bmatrix}2&0&0\\\\0&0.5&0\\\\0&0&1\\end{bmatrix}\\begin{bmatrix}2\\\\3\\\\1\\end{bmatrix} = \\begin{bmatrix}4\\\\1.5\\\\1\\end{bmatrix}$, point (4,1.5)."
            }
          ]
        },
        {
          "type": "Rotation (counterclockwise about origin, angle θ)",
          "value": "$R(θ) = \\begin{bmatrix}\\cosθ & -\\sinθ & 0\\\\\\sinθ & \\cosθ & 0\\\\0 & 0 & 1\\end{bmatrix}$",
          "characteristics": [
            "Rotates points around the origin.",
            "Determinant = 1 (preserves area and orientation).",
            "Columns are orthonormal.",
            "To rotate about an arbitrary point, translate that point to origin, rotate, then translate back."
          ],
          "examples": [
            {
              "process": "Rotate point (2,0) by 90°",
              "explanation": "$\\begin{bmatrix}0&-1&0\\\\1&0&0\\\\0&0&1\\end{bmatrix}\\begin{bmatrix}2\\\\0\\\\1\\end{bmatrix} = \\begin{bmatrix}0\\\\2\\\\1\\end{bmatrix}$, point (0,2)."
            }
          ]
        },
        {
          "type": "Shear (horizontal)",
          "value": "$H_x(k) = \\begin{bmatrix}1 & k & 0\\\\0 & 1 & 0\\\\0 & 0 & 1\\end{bmatrix}$",
          "characteristics": [
            "Shifts x proportionally to y: $(x,y) \\to (x+ky, y)$.",
            "Determinant = 1 (area preserved).",
            "Vertical shear: $\\begin{bmatrix}1 & 0 & 0\\\\k & 1 & 0\\\\0 & 0 & 1\\end{bmatrix}$."
          ],
          "examples": [
            {
              "process": "Apply horizontal shear k=2 to point (1,3)",
              "explanation": "$\\begin{bmatrix}1&2&0\\\\0&1&0\\\\0&0&1\\end{bmatrix}\\begin{bmatrix}1\\\\3\\\\1\\end{bmatrix} = \\begin{bmatrix}1+6\\\\3\\\\1\\end{bmatrix} = \\begin{bmatrix}7\\\\3\\\\1\\end{bmatrix}$, point (7,3)."
            }
          ]
        },
        {
          "type": "Reflection across a line through origin",
          "value": "Reflection across x‑axis: $\\begin{bmatrix}1&0&0\\\\0&-1&0\\\\0&0&1\\end{bmatrix}$; across y‑axis: $\\begin{bmatrix}-1&0&0\\\\0&1&0\\\\0&0&1\\end{bmatrix}$; across line y=x: $\\begin{bmatrix}0&1&0\\\\1&0&0\\\\0&0&1\\end{bmatrix}$.",
          "characteristics": [
            "Determinant = −1 (area preserved but orientation reversed).",
            "To reflect across any line, you can combine translation, rotation, reflection, and inverse transforms."
          ],
          "examples": [
            {
              "process": "Reflect point (3,4) across x‑axis",
              "explanation": "$\\begin{bmatrix}1&0&0\\\\0&-1&0\\\\0&0&1\\end{bmatrix}\\begin{bmatrix}3\\\\4\\\\1\\end{bmatrix} = \\begin{bmatrix}3\\\\-4\\\\1\\end{bmatrix}$, point (3,−4)."
            }
          ]
        }
      ]
    },

    {
      "section_title": "Combining Transformations: Composition",
      "introduction": "To perform multiple transformations on an object, you multiply their matrices. The order of multiplication is crucial: the matrix closest to the point vector is applied first.",
      
      "key_concept": {
        "definition": "If you want to apply transformation $T_1$ first, then $T_2$, then $T_3$, the combined matrix is $M = T_3 \\, T_2 \\, T_1$. When applied to a point $\\mathbf{p}$, the result is $M\\mathbf{p} = T_3(T_2(T_1(\\mathbf{p})))$.",
        "context": "Because matrix multiplication is associative but not commutative, you must carefully follow the specified order. A common mnemonic: \"the first transformation goes on the right, the last on the left.\" When you read a sequence like \"rotate by 30°, then translate by (2,3), then scale by 2,\" the combined matrix is $S \\, T \\, R$ (scale, then translation, then rotation? Wait: careful: if you apply rotate first, then translate, then scale, the point undergoes $\\mathbf{p}' = S(T(R\\mathbf{p}))$. So the combined matrix is $S \\cdot T \\cdot R$, with the first transformation (rotate) on the far right. So the order in the product is opposite to the spoken order. This is critical."
      },
      
      "categories": [
        {
          "type": "Order of Multiplication",
          "description": "When building a combined matrix, read the sequence from last to first (right to left).",
          "detailed_mechanism": "Suppose we want to: 1. Rotate by 30°, 2. Translate by (2,3), 3. Scale by 2. Then the combined matrix $M = S \\cdot T \\cdot R$. Check: $M\\mathbf{p} = S(T(R\\mathbf{p}))$: first $R$ acts, then $T$, then $S$. Good.",
          "examples": [
            {
              "process": "Build combined matrix",
              "explanation": "$R = \\begin{bmatrix}\\cos30^\\circ& -\\sin30^\\circ&0\\\\\\sin30^\\circ&\\cos30^\\circ&0\\\\0&0&1\\end{bmatrix}$, $T = \\begin{bmatrix}1&0&2\\\\0&1&3\\\\0&0&1\\end{bmatrix}$, $S = \\begin{bmatrix}2&0&0\\\\0&2&0\\\\0&0&1\\end{bmatrix}$. Compute $M = S T R$ (multiply in that order)."
            }
          ]
        },
        {
          "type": "Applying Combined Matrix to Multiple Points",
          "description": "If you have many points (e.g., vertices of a polygon), you can form a matrix $P$ where each column is a homogeneous point, then compute $M P$ to transform all points at once.",
          "detailed_mechanism": "Let $P$ be a $3 \\times n$ matrix of homogeneous points (columns). Then $M P$ is a $3 \\times n$ matrix of transformed points. This is extremely efficient in computer graphics.",
          "examples": [
            {
              "process": "Transform triangle",
              "explanation": "Triangle vertices (1,1), (2,1), (1.5,2). Form $P = \\begin{bmatrix}1&2&1.5\\\\1&1&2\\\\1&1&1\\end{bmatrix}$. Apply $M$ to get new vertices."
            }
          ]
        }
      ]
    },

    {
      "section_title": "Real-World Context – Why Homogeneous Coordinates Matter",
      "introduction": "Homogeneous coordinates and $3 \\times 3$ transformation matrices are the standard in computer graphics, robotics, and computer vision. They unify all affine transformations into a single matrix product, enabling efficient hardware implementation.",
      
      "key_concept": {
        "definition": "In computer graphics, every object is composed of vertices. A single $4 \\times 4$ matrix (for 3D) encodes the combined modeling, viewing, and projection transformations. Graphics processing units (GPUs) are designed to multiply such matrices with vertex arrays at incredible speed.",
        "context": "Without homogeneous coordinates, translation would have to be handled separately, breaking the uniform pipeline. The ability to compose transformations into one matrix also allows for smooth interpolation between poses (keyframe animation) and for representing hierarchical structures (e.g., robot arms) as chains of transformations."
      },
      
      "categories": [
        {
          "type": "3D Graphics (Preview)",
          "description": "In 3D, we use $4 \\times 4$ matrices and points $(x,y,z,1)$. The same principles extend directly.",
          "detailed_mechanism": "A 3D translation matrix is $\\begin{bmatrix}1&0&0&t_x\\\\0&1&0&t_y\\\\0&0&1&t_z\\\\0&0&0&1\\end{bmatrix}$. Rotation matrices become $3 \\times 3$ blocks. The bottom row remains $[0\\ 0\\ 0\\ 1]$ for affine transformations.",
          "examples": [
            {
              "process": "3D translation",
              "explanation": "$(x,y,z,1) \\to (x+t_x, y+t_y, z+t_z, 1)$."
            }
          ]
        },
        {
          "type": "Robotics",
          "description": "A robot arm's end‑effector position is computed by multiplying the transformation matrices of each joint.",
          "detailed_mechanism": "Each joint has a matrix that depends on the joint angle (for revolute joints) or extension (for prismatic joints). The overall transformation from base to hand is the product of these matrices in the order of the links.",
          "examples": [
            {
              "process": "2‑link planar arm",
              "explanation": "If link 1 rotates by θ₁ and length L₁, link 2 rotates by θ₂ and length L₂, the hand position is $T_1 R_1 T_2 R_2$ applied to the origin, where $T_i$ translates along the link and $R_i$ rotates."
            }
          ]
        }
      ]
    },

    {
      "section_title": "Worked Examples – Full Multi-Step Problems",
      "introduction": "These examples demonstrate how to construct composite transformation matrices, apply them to points, and interpret the results.",
      
      "key_concept": {
        "definition": "Multi‑step problems require: (1) converting points to homogeneous coordinates, (2) building matrices for each step in the correct order, (3) multiplying them to get a composite matrix, (4) applying it to the points, and (5) converting back to Cartesian coordinates if needed.",
        "context": "Always keep track of the order: the matrix for the first operation goes on the far right of the product."
      },
      
      "worked_examples": [
        {
          "title": "Rotating a Triangle about Its Center",
          "problem": "A triangle has vertices $A(2,1)$, $B(4,1)$, $C(3,3)$. Rotate it $45^\\circ$ counterclockwise about its centroid. Find the new vertices.",
          "step_by_step": [
            {
              "step": "Find the centroid",
              "explanation": "The centroid is the average of the vertices: $\\bar{x} = \\frac{x_1+x_2+x_3}{3}$, $\\bar{y} = \\frac{y_1+y_2+y_3}{3}$.",
              "calculation": "$\\bar{x} = \\frac{2+4+3}{3} = \\frac{9}{3} = 3$, $\\bar{y} = \\frac{1+1+3}{3} = \\frac{5}{3}$.\nCentroid $C = (3, \\frac{5}{3})$."
            },
            {
              "step": "Set up the transformation sequence",
              "explanation": "To rotate about point $C$, we: (1) translate by $-C$ to move the centroid to the origin, (2) rotate by $45^\\circ$, (3) translate back by $+C$.",
              "calculation": "Translation to origin: $T_{-C} = \\begin{bmatrix}1 & 0 & -3\\\\0 & 1 & -\\frac{5}{3}\\\\0 & 0 & 1\\end{bmatrix}$\n\nRotation by $45^\\circ$: $R = \\begin{bmatrix}\\cos45^\\circ & -\\sin45^\\circ & 0\\\\\\sin45^\\circ & \\cos45^\\circ & 0\\\\0 & 0 & 1\\end{bmatrix} = \\begin{bmatrix}\\frac{\\sqrt{2}}{2} & -\\frac{\\sqrt{2}}{2} & 0\\\\\\frac{\\sqrt{2}}{2} & \\frac{\\sqrt{2}}{2} & 0\\\\0 & 0 & 1\\end{bmatrix}$\n\nTranslation back: $T_{+C} = \\begin{bmatrix}1 & 0 & 3\\\\0 & 1 & \\frac{5}{3}\\\\0 & 0 & 1\\end{bmatrix}$\n\nCombined matrix: $M = T_{+C} \\cdot R \\cdot T_{-C}$"
            },
            {
              "step": "Compute $R \\cdot T_{-C}$ first",
              "explanation": "Multiply the rotation matrix by the translation-to-origin matrix.",
              "calculation": "$R T_{-C} = \\begin{bmatrix}\\frac{\\sqrt{2}}{2} & -\\frac{\\sqrt{2}}{2} & 0\\\\\\frac{\\sqrt{2}}{2} & \\frac{\\sqrt{2}}{2} & 0\\\\0 & 0 & 1\\end{bmatrix} \\begin{bmatrix}1 & 0 & -3\\\\0 & 1 & -\\frac{5}{3}\\\\0 & 0 & 1\\end{bmatrix}$\n\n$= \\begin{bmatrix}\\frac{\\sqrt{2}}{2} & -\\frac{\\sqrt{2}}{2} & -3\\cdot\\frac{\\sqrt{2}}{2} + \\frac{5}{3}\\cdot\\frac{\\sqrt{2}}{2}\\\\\\frac{\\sqrt{2}}{2} & \\frac{\\sqrt{2}}{2} & -3\\cdot\\frac{\\sqrt{2}}{2} - \\frac{5}{3}\\cdot\\frac{\\sqrt{2}}{2}\\\\0 & 0 & 1\\end{bmatrix}$\n\nSimplify the third column entries. Let $k = \\frac{\\sqrt{2}}{2}$.\nTop entry: $-3k + \\frac{5}{3}k = k\\left(-3 + \\frac{5}{3}\\right) = k\\left(-\\frac{9}{3} + \\frac{5}{3}\\right) = k\\left(-\\frac{4}{3}\\right) = -\\frac{4}{3}k$\nBottom entry: $-3k - \\frac{5}{3}k = k\\left(-3 - \\frac{5}{3}\\right) = k\\left(-\\frac{9}{3} - \\frac{5}{3}\\right) = k\\left(-\\frac{14}{3}\\right) = -\\frac{14}{3}k$\n\nThus $R T_{-C} = \\begin{bmatrix}k & -k & -\\frac{4}{3}k\\\\k & k & -\\frac{14}{3}k\\\\0 & 0 & 1\\end{bmatrix}$ where $k = \\frac{\\sqrt{2}}{2}$."
            },
            {
              "step": "Now multiply by $T_{+C}$",
              "explanation": "$M = T_{+C} (R T_{-C})$.",
              "calculation": "$M = \\begin{bmatrix}1 & 0 & 3\\\\0 & 1 & \\frac{5}{3}\\\\0 & 0 & 1\\end{bmatrix} \\begin{bmatrix}k & -k & -\\frac{4}{3}k\\\\k & k & -\\frac{14}{3}k\\\\0 & 0 & 1\\end{bmatrix}$\n\n$= \\begin{bmatrix}k & -k & -\\frac{4}{3}k + 3\\\\k & k & -\\frac{14}{3}k + \\frac{5}{3}\\\\0 & 0 & 1\\end{bmatrix}$"
            },
            {
              "step": "Apply $M$ to vertex $A(2,1)$",
              "explanation": "Write $A$ as homogeneous $\\begin{bmatrix}2\\\\1\\\\1\\end{bmatrix}$ and multiply.",
              "calculation": "$A' = M \\begin{bmatrix}2\\\\1\\\\1\\end{bmatrix} = \\begin{bmatrix}k\\cdot2 + (-k)\\cdot1 + \\left(-\\frac{4}{3}k + 3\\right)\\\\k\\cdot2 + k\\cdot1 + \\left(-\\frac{14}{3}k + \\frac{5}{3}\\right)\\\\1\\end{bmatrix}$\n\nSimplify the $x'$ coordinate: $2k - k - \\frac{4}{3}k + 3 = k\\left(2 - 1 - \\frac{4}{3}\\right) + 3 = k\\left(1 - \\frac{4}{3}\\right) + 3 = k\\left(-\\frac{1}{3}\\right) + 3 = -\\frac{k}{3} + 3$\n\nSimplify the $y'$ coordinate: $2k + k - \\frac{14}{3}k + \\frac{5}{3} = k\\left(3 - \\frac{14}{3}\\right) + \\frac{5}{3} = k\\left(\\frac{9}{3} - \\frac{14}{3}\\right) + \\frac{5}{3} = k\\left(-\\frac{5}{3}\\right) + \\frac{5}{3} = -\\frac{5k}{3} + \\frac{5}{3}$\n\nRecall $k = \\frac{\\sqrt{2}}{2} \\approx 0.70710678$. Numerically:\n$x' = -\\frac{0.70710678}{3} + 3 = -0.23570226 + 3 = 2.76429774$\n$y' = -\\frac{5(0.70710678)}{3} + \\frac{5}{3} = -\\frac{3.5355339}{3} + 1.66666667 = -1.1785113 + 1.66666667 = 0.48815537$\n\nSo $A' \\approx (2.764, 0.488)$."
            },
            {
              "step": "Apply $M$ to vertex $B(4,1)$",
              "explanation": "$B = \\begin{bmatrix}4\\\\1\\\\1\\end{bmatrix}$.",
              "calculation": "$B' = \\begin{bmatrix}4k - k - \\frac{4}{3}k + 3\\\\4k + k - \\frac{14}{3}k + \\frac{5}{3}\\\\1\\end{bmatrix} = \\begin{bmatrix}k(4-1-\\frac{4}{3}) + 3\\\\k(4+1-\\frac{14}{3}) + \\frac{5}{3}\\\\1\\end{bmatrix}$\n\n$x'$ coefficient: $4-1-\\frac{4}{3} = 3 - \\frac{4}{3} = \\frac{9}{3} - \\frac{4}{3} = \\frac{5}{3}$, so $x' = \\frac{5}{3}k + 3$\n$y'$ coefficient: $5 - \\frac{14}{3} = \\frac{15}{3} - \\frac{14}{3} = \\frac{1}{3}$, so $y' = \\frac{1}{3}k + \\frac{5}{3}$\n\nNumerically: $x' = \\frac{5(0.70710678)}{3} + 3 = \\frac{3.5355339}{3} + 3 = 1.1785113 + 3 = 4.1785113$\n$y' = \\frac{0.70710678}{3} + 1.66666667 = 0.23570226 + 1.66666667 = 1.90236893$\n\nSo $B' \\approx (4.179, 1.902)$."
            },
            {
              "step": "Apply $M$ to vertex $C(3,3)$",
              "explanation": "$C = \\begin{bmatrix}3\\\\3\\\\1\\end{bmatrix}$.",
              "calculation": "$C' = \\begin{bmatrix}3k - 3k - \\frac{4}{3}k + 3\\\\3k + 3k - \\frac{14}{3}k + \\frac{5}{3}\\\\1\\end{bmatrix} = \\begin{bmatrix}-\\frac{4}{3}k + 3\\\\6k - \\frac{14}{3}k + \\frac{5}{3}\\\\1\\end{bmatrix}$\n\n$x'$ simplifies directly: $-\\frac{4}{3}k + 3$\n$y'$: $6k - \\frac{14}{3}k = k\\left(6 - \\frac{14}{3}\\right) = k\\left(\\frac{18}{3} - \\frac{14}{3}\\right) = \\frac{4}{3}k$, so $y' = \\frac{4}{3}k + \\frac{5}{3}$\n\nNumerically: $x' = -\\frac{4(0.70710678)}{3} + 3 = -\\frac{2.82842712}{3} + 3 = -0.94280904 + 3 = 2.05719096$\n$y' = \\frac{4(0.70710678)}{3} + 1.66666667 = \\frac{2.82842712}{3} + 1.66666667 = 0.94280904 + 1.66666667 = 2.60947571$\n\nSo $C' \\approx (2.057, 2.609)$."
            }
          ],
          "final_answer": "New vertices: $A'(2.764, 0.488)$, $B'(4.179, 1.902)$, $C'(2.057, 2.609)$.",
          "concept_applied": "Rotating about an arbitrary point requires translating that point to the origin, rotating, then translating back. The combined matrix is $M = T_{+C} \\, R \\, T_{-C}$, applied in that order (right to left)."
        },
        {
          "title": "Scaling and Translating a Rectangle",
          "problem": "A rectangle has corners $(0,0)$, $(2,0)$, $(2,1)$, $(0,1)$. First scale it by factor 2 in x and 0.5 in y about the origin, then translate it by $(3,-1)$. Find the new corners.",
          "step_by_step": [
            {
              "step": "Build matrices",
              "explanation": "Scale $S = \\begin{bmatrix}2&0&0\\\\0&0.5&0\\\\0&0&1\\end{bmatrix}$, translate $T = \\begin{bmatrix}1&0&3\\\\0&1&-1\\\\0&0&1\\end{bmatrix}$.",
              "calculation": "Order: scale first, then translate → combined $M = T S$."
            },
            {
              "step": "Compute $M$",
              "explanation": "$M = \\begin{bmatrix}1&0&3\\\\0&1&-1\\\\0&0&1\\end{bmatrix} \\begin{bmatrix}2&0&0\\\\0&0.5&0\\\\0&0&1\\end{bmatrix} = \\begin{bmatrix}2 & 0 & 3\\\\0 & 0.5 & -1\\\\0 & 0 & 1\\end{bmatrix}$.",
              "calculation": "Result."
            },
            {
              "step": "Apply to each corner",
              "explanation": "Corners as columns: $P = \\begin{bmatrix}0&2&2&0\\\\0&0&1&1\\\\1&1&1&1\\end{bmatrix}$.",
              "calculation": "$M P = \\begin{bmatrix}2&0&3\\\\0&0.5&-1\\\\0&0&1\\end{bmatrix} \\begin{bmatrix}0&2&2&0\\\\0&0&1&1\\\\1&1&1&1\\end{bmatrix}$\n\nFirst column: $\\begin{bmatrix}2·0+0·0+3·1\\\\0·0+0.5·0+(-1)·1\\\\1\\end{bmatrix} = \\begin{bmatrix}3\\\\-1\\\\1\\end{bmatrix}$\nSecond column: $\\begin{bmatrix}2·2+0·0+3·1\\\\0·2+0.5·0+(-1)·1\\\\1\\end{bmatrix} = \\begin{bmatrix}4+3\\\\-1\\\\1\\end{bmatrix} = \\begin{bmatrix}7\\\\-1\\\\1\\end{bmatrix}$\nThird column: $\\begin{bmatrix}2·2+0·1+3·1\\\\0·2+0.5·1+(-1)·1\\\\1\\end{bmatrix} = \\begin{bmatrix}4+3\\\\0.5-1\\\\1\\end{bmatrix} = \\begin{bmatrix}7\\\\-0.5\\\\1\\end{bmatrix}$\nFourth column: $\\begin{bmatrix}2·0+0·1+3·1\\\\0·0+0.5·1+(-1)·1\\\\1\\end{bmatrix} = \\begin{bmatrix}3\\\\0.5-1\\\\1\\end{bmatrix} = \\begin{bmatrix}3\\\\-0.5\\\\1\\end{bmatrix}$\n\nSo $M P = \\begin{bmatrix}3 & 7 & 7 & 3\\\\-1 & -1 & -0.5 & -0.5\\\\1&1&1&1\\end{bmatrix}$."
            },
            {
              "step": "Interpret",
              "explanation": "The new corners are $(3,-1)$, $(7,-1)$, $(7,-0.5)$, $(3,-0.5)$.",
              "calculation": "Final."
            }
          ],
          "final_answer": "New corners: $(3,-1)$, $(7,-1)$, $(7,-0.5)$, $(3,-0.5)$.",
          "concept_applied": "Composition order: scale then translate means $M = T S$."
        }
      ]
    },

    {
      "section_title": "Common Mistakes and How to Avoid Them",
      "introduction": "Working with homogeneous coordinates and transformation composition introduces new pitfalls. Recognizing them will save you time and frustration.",
      
      "key_concept": {
        "definition": "Common mistakes include: (1) forgetting to convert points to homogeneous form, (2) using the wrong order when multiplying matrices, (3) incorrectly applying translation when scaling/rotating about an arbitrary point, (4) mixing up row vs. column conventions, and (5) not normalizing the homogeneous coordinate after transformation.",
        "context": "Most of these errors can be avoided by writing down every step explicitly and checking dimensions. Always verify that your combined matrix has the bottom row $[0\\ 0\\ 1]$ for affine transformations."
      },
      
      "categories": [
        {
          "type": "Mistake 1: Forgetting Homogeneous Coordinate",
          "description": "Treating a point as a 2‑vector when multiplying by a $3 \\times 3$ matrix leads to dimension mismatch.",
          "detailed_mechanism": "If you try to multiply a $3 \\times 3$ matrix by a $2 \\times 1$ vector, the operation is undefined. Always append a 1 to make it a $3 \\times 1$ homogeneous point.",
          "examples": [
            {
              "process": "Correct vs. Incorrect",
              "explanation": "Incorrect: $\\begin{bmatrix}1&0&3\\\\0&1&-1\\\\0&0&1\\end{bmatrix} \\begin{bmatrix}2\\\\1\\end{bmatrix}$ → dimension error. Correct: use $\\begin{bmatrix}2\\\\1\\\\1\\end{bmatrix}$."
            }
          ]
        },
        {
          "type": "Mistake 2: Wrong Order in Composition",
          "description": "Multiplying matrices in the wrong order yields a completely different transformation.",
          "detailed_mechanism": "If you want to apply $A$ then $B$, the combined matrix is $BA$ (if using column vectors). Students often multiply $AB$ instead. The fix: remember that the matrix closest to the point acts first.",
          "examples": [
            {
              "process": "Check Order",
              "explanation": "For $A$ then $B$, compute $B A \\mathbf{p}$ = $B(A\\mathbf{p})$. So combined = $BA$, not $AB$."
            }
          ]
        },
        {
          "type": "Mistake 3: Scaling/Rotating About an Arbitrary Point Without Translation",
          "description": "Applying a scaling or rotation matrix directly rotates about the origin, not the desired point.",
          "detailed_mechanism": "To rotate about point $C$, you must translate by $-C$, rotate, then translate back by $+C$. Skipping this step results in the shape rotating around the origin, moving it to a different location.",
          "examples": [
            {
              "process": "Correct sequence",
              "explanation": "$M = T_{+C} \\, R \\, T_{-C}$."
            }
          ]
        }
      ]
    }
  ],

  "key_terms": [
    "Homogeneous Coordinates",
    "Affine Transformation",
    "Translation Matrix",
    "Scaling Matrix",
    "Rotation Matrix",
    "Shear Matrix",
    "Reflection Matrix",
    "Composition of Transformations",
    "Order of Multiplication",
    "Right‑to‑Left Rule",
    "Center of Rotation",
    "Center of Scaling",
    "Graphics Pipeline",
    "GPU"
  ],

  "summary": "Geometric transformations using matrices are extended to include translation by using homogeneous coordinates. A 2D point $(x,y)$ is represented as $\\begin{bmatrix}x\\\\y\\\\1\\end{bmatrix}$, and all affine transformations become $3 \\times 3$ matrices. Translation uses the last column: $\\begin{bmatrix}1&0&t_x\\\\0&1&t_y\\\\0&0&1\\end{bmatrix}$. Scaling, rotation, shear, and reflection use the top‑left $2 \\times 2$ block as before, with zeros in the translation column. To apply multiple transformations, multiply their matrices in the order opposite to the sequence: the first transformation goes on the far right. To rotate or scale about an arbitrary point, translate that point to the origin, apply the basic transformation, then translate back. These techniques are fundamental in computer graphics, robotics, and any field requiring geometric manipulation. Common mistakes include forgetting the homogeneous coordinate, composing in the wrong order, and neglecting to translate before rotating about a non‑origin point. Mastering homogeneous coordinates unlocks a unified and efficient method for handling all affine transformations."
}
