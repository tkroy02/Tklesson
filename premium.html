<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tklesson Premium Quiz Library</title>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-99H54WVS80"></script>
<script>
  window.addEventListener('load', function() {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-99H54WVS80');
  });
</script>

<style>
/* your CSS unchanged */
body { font-family: Arial, sans-serif; margin:0; padding:0; color:#0b3d91; background-color:#ffffff; scroll-behavior: smooth; }
a { text-decoration:none; color:inherit; }
.hero { text-align:center; padding:40px 15px; background-color:#0b3d91; color:white; }
.hero h1 { font-size:2rem; margin-bottom:10px; }
.hero p { font-size:1rem; margin-bottom:15px; }
.hero .motto { font-weight:500; font-style:italic; margin-bottom:20px; color:#ffe066; font-size:1.1rem; }
.hero .hero-buttons { display:flex; flex-wrap:wrap; justify-content:center; gap:10px; }
.hero .hero-buttons a { display:inline-block; padding:10px 20px; font-size:1rem; border-radius:5px; font-weight:bold; transition:0.3s; }
.btn-subscribe { background-color:#1e5bbf; color:white; }
.btn-subscribe:hover { background-color:#164787; }
section { padding:30px 15px; max-width:900px; margin:auto; }
section h2 { text-align:center; margin-bottom:20px; color:#0b3d91; }
section p { margin-bottom:15px; color:#0b3d91; }
.wip-notice { background-color:#ffcccb; color:#b30000; border:2px solid #b30000; border-radius:10px; padding:20px; text-align:center; font-size:1.2rem; font-weight:bold; margin:30px 0; }
.subjects-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); gap:15px; }
.subject-box { background-color:#f0f6ff; border:2px solid #0b3d91; border-radius:12px; padding:15px; text-align:center; font-weight:bold; color:#0b3d91; transition:0.3s; }
.subject-box:hover { background-color:#d9e8ff; transform:translateY(-3px); }
.pricing-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:15px; text-align:center; }
.pricing-box { border:2px solid #0b3d91; border-radius:12px; padding:20px; background-color:#f0f6ff; font-weight:bold; transition:0.3s; }
.pricing-box:hover { background-color:#d9e8ff; transform:translateY(-3px); }
.pricing-box h3 { margin-bottom:10px; }
.pricing-box p { margin-bottom:15px; }
.pricing-box .btn-subscribe { width:100%; }
.testimonials { text-align:center; }
.testimonial-box { border:2px solid #0b3d91; border-radius:12px; padding:15px; margin-bottom:15px; background-color:#f0f6ff; font-style:italic; }
.school-pricing { padding:30px 15px; max-width:900px; margin:auto; }
.school-pricing h2 { text-align:center; margin-bottom:20px; color:#0b3d91; }
.school-pricing p { margin-bottom:25px; color:#0b3d91; text-align:center; }
.school-grid { display:flex; flex-wrap:wrap; gap:20px; justify-content:center; }
.school-tier { background-color:#f0f6ff; border:2px solid #0b3d91; border-radius:12px; padding:20px; flex:1 1 300px; }
.school-tier h3 { text-align:center; margin-bottom:15px; }
.school-grid-inner { display:grid; grid-template-columns:repeat(auto-fit,minmax(120px,1fr)); gap:15px; }
.school-grid-inner .pricing-box { background-color:#d9e8ff; border-radius:10px; padding:15px; text-align:center; font-weight:bold; transition:0.3s; border:1px solid #0b3d91; }
.school-grid-inner .pricing-box:hover { background-color:#c0dbff; transform:translateY(-3px); }
.school-grid-inner .pricing-box h4 { margin-bottom:10px; font-size:1rem; }
.school-grid-inner .pricing-box p { margin:0; font-size:0.95rem; }
.footer { background-color:#082b6f; color:white; text-align:center; padding:25px 15px; font-size:0.95rem; box-shadow:0 -4px 12px rgba(0,0,0,0.15); }
.footer a { color:#3399ff; text-decoration:none; }
.footer a:hover { color:#ffe066; text-decoration:underline; }
@media(max-width:768px){.hero h1{ font-size:1.5rem; }.hero p{ font-size:0.95rem; }.hero .motto{ font-size:1rem; }.school-grid { flex-direction:column; }}
</style>
</head>
<body>

<div id="header"></div>
<script>
fetch("header.html")
.then(response => response.text())
.then(data => {
    document.getElementById("header").innerHTML = data;
    const header = document.querySelector("#header header");
    const navMenu = header.querySelector("#navMenu");
    const hamburger = header.querySelector(".hamburger");
    if(hamburger && navMenu){
        hamburger.addEventListener("click", () => {
            const isOpen = navMenu.classList.toggle("open");
            hamburger.setAttribute("aria-expanded", isOpen ? "true" : "false");
        });
    }
    header.querySelectorAll(".dropdown").forEach(dropdown => {
        const dropbtn = dropdown.querySelector(".dropbtn");
        dropbtn.addEventListener("click", e => {
            if(window.innerWidth <= 768){
                e.preventDefault();
                const nowActive = dropdown.classList.toggle("active");
                dropbtn.setAttribute("aria-expanded", nowActive ? "true" : "false");
            }
        });
    });
});
</script>

<section class="hero">
    <h1>Tklesson Premium Quiz Library</h1>
    <p>Slides with Audio + <b>Thousands of Expert-Created Quizzes</b> Across All Subjects</p>
    <h3 class="motto"><b>Self-Paced</b>, Tutoring-Level Guidance Anytime</h3>
    <div class="hero-buttons">
      <a id="btn-login" href="#" class="btn-subscribe">Log In</a>
      <a id="btn-logout" href="#" class="btn-subscribe" style="display: none;">Log Out</a>
    </div>
</section>

<!-- ... rest of your sections unchanged ... -->

<div id="footer"></div>
<script>
fetch("footer.html").then(r=>r.text()).then(data=>{ document.getElementById("footer").innerHTML=data; });
</script>

<!-- âœ… FIXED SCRIPT SOURCE -->
<script src="https://cdn.auth0.com/js/auth0-spa-js/2.1/auth0-spa-js.production.js"></script>

<script>
window.addEventListener('load', async () => {
    const auth0 = await createAuth0Client({
        domain: 'YOUR_AUTH0_DOMAIN',      // replace with your real domain
        clientId: 'YOUR_AUTH0_CLIENT_ID', // replace with your client ID
        authorizationParams: {
            redirect_uri: window.location.origin
        }
    });

    const loginBtn = document.getElementById('btn-login');
    const logoutBtn = document.getElementById('btn-logout');

    const handleRedirectCallback = async () => {
        const isRedirect = window.location.search.includes('code=') || window.location.search.includes('state=');
        if (isRedirect) {
            await auth0.handleRedirectCallback();
            window.history.replaceState({}, document.title, window.location.pathname);
        }
        updateUI();
    };

    const updateUI = async () => {
        const isAuthenticated = await auth0.isAuthenticated();
        loginBtn.style.display = isAuthenticated ? 'none' : 'block';
        logoutBtn.style.display = isAuthenticated ? 'block' : 'none';
        if (isAuthenticated) {
            const user = await auth0.getUser();
            console.log('Logged in user:', user);
        }
    };

    loginBtn.addEventListener('click', (e) => {
        e.preventDefault();
        auth0.loginWithRedirect();
    });

    logoutBtn.addEventListener('click', (e) => {
        e.preventDefault();
        auth0.logout({
            logoutParams: {
                returnTo: window.location.origin
            }
        });
    });

    handleRedirectCallback();
});
</script>

</body>
</html>
